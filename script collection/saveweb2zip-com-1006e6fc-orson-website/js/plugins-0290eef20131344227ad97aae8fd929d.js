function getBestSizeFit(t){var e=[{name:"size_6",width:140},{name:"size_5",width:300},{name:"size_4",width:620},{name:"size_3",width:960},{name:"size_2",width:1280}],i=e.filter(function(e){return e.width>t}).sort(function(e,i){return Math.abs(e.width-t)-Math.abs(i.width-t)});return i[0]}function adaptElementToContainer(t,e){var i=t.attr("src"),n=getBestSizeFit(e);if(null!=/size_[1-6]/.exec(i)){var o,s=(/size_[1-6]/.exec(i)[0],0),r=n.width;t.width()&&t.height()?(o=t.width(),s=t.height()):(o=t.attr("data-width"),s=t.attr("data-height"));var a=r/o*s;t.attr("width",r).attr("height",a).attr("data-width",r).attr("data-height",a)}}function resizeBackgroundElement(t,e,i){var n=e||"fitInside",o=$(t),s=o.closest("section");o.data("parentContainer")&&(s=o.closest(o.data("parentContainer"))),s.css({overflow:"hidden"});var r=s.outerWidth(),a=s.outerHeight(),l={width:1280,height:720},c=function(t){return"IMG"===t.nodeName&&t.hasAttribute("src")&&-1!==t.getAttribute("src").indexOf("vimeocdn")};"VIDEO"===t.nodeName||c(t)||(i&&adaptElementToContainer(o,r),l.width=o.data("width")?o.data("width"):o.width(),l.height=o.data("height")?o.data("height"):o.height());var u=new ElasticBackgroundElement(l);u.resizeTo({width:r,height:a},n);var h=u.getStyle();o.css(h).fadeIn("slow")}function getBackgroundImageUrl(t,e){var i=t.getBoundingClientRect(),n=i.width,o=i.height;return n>o?e=e+"=w"+Math.ceil(n+200):o>1024?e+="=h1024-c":e=e+"=h"+Math.ceil(o)+"-c",e}function preloadImage(t,e,i){return new Promise(function(n){var o={size_1:256,size_2:128,size_3:96,size_4:76,size_5:64,size_6:48},s=new Image,r=t.dataset.stamp,a=t.dataset.url;return"logo"===t.dataset.type?a+="=h"+2*o[t.dataset.size]:"SECTION"===t.tagName&&t.getBoundingClientRect().width<500?a=getBackgroundImageUrl(t,a):a+="=w"+Math.ceil(e),"low"==i?(a+="-rj-l20",void n({element:t,url:a,stamp:r})):("SECTION"===t.tagName&&(a+="-rj-l75"),s.addEventListener("load",function(){n({element:t,url:this.getAttribute("src"),stamp:r})}),s.addEventListener("error",function(){n({element:t,url:a,stamp:r})}),setTimeout(function(){n({element:t,url:a,stamp:r})},1e3),void featureDetect("webp").then(function(){s.src=a})["catch"](function(){s.src=a}))})}var CookieJar={getAll:function(){return document.cookie.split(/;\s/).map(function(t){return t.split(/=/)}).reduce(function(t,e){return t[e[0]]=e[1],t},{})},get:function(t){return this.getAll()[t]},set:function(t,e,i){var n=[t,e].join("="),o=new Date;o.setTime(o.getTime()+i);var s=["expires",o.toGMTString()].join("="),r=["path","/"].join("=");return document.cookie=[n,s,r].join("; "),e}};!function(t){"use strict";var e=function(e,i){this.element=t(e),this.datas=i};e.prototype={init:function(){{var t,e,i,n=this.element;n.closest("ul:not(.dropdown-menu)"),n.attr("data-target")}"object"==typeof this.datas&&(t=this.datas);JSON.stringify(t);this.mapOptions={zoom:t.zoom,center:new google.maps.LatLng(t.location.lat,t.location.lng),mapTypeId:google.maps.MapTypeId.ROADMAP,draggable:!0,streetViewControl:!1},e=new google.maps.Map(document.getElementById(n[0].id),this.mapOptions),"object"==typeof t.marker_image&&(i={origin:new google.maps.Point(t.marker_image.pointX,t.marker_image.pointY),size:new google.maps.Size(t.marker_image.sizeX,t.marker_image.sizeY),url:t.marker_image.url}),this.marker=new google.maps.Marker({position:new google.maps.LatLng(t.location.lat,t.location.lng),draggable:!1,map:e,icon:i,shadow:"",animation:google.maps.Animation.DROP});var o='<div id="content"><span><b>'+t.adress1+"</b></span><div>"+t.zipcode+" "+t.city+"</div></div>",s=new google.maps.InfoWindow({content:o,position:new google.maps.LatLng(t.location.lat,t.location.lng)});google.maps.event.addListener(this.marker,"click",function(){s.open(e,this.marker)})}};var i=t.fn.gmap;t.fn.gmap=function(i,n){return this.each(function(){var o=t(this),s=o.data("gmap");s||o.data("gmap",s=new e(this,n)),"string"==typeof i&&s[i]()})},t.fn.gmap.Constructor=e,t.fn.gmap.noConflict=function(){return t.fn.gmap=i,this}}(window.jQuery),function(t,i,n,o){function r(e,i){this.element=e,this.options=t.extend(!0,{},l,i),this.options.share=i.share,this._defaults=l,this._name=a,this.init()}var a="sharrre",l={className:"sharrre",share:{googlePlus:!1,facebook:!1,twitter:!1,digg:!1,delicious:!1,stumbleupon:!1,linkedin:!1,pinterest:!1},shareTotal:0,template:"",title:"",url:n.location.href,text:n.title,urlCurl:"/social_shares",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,hover:function(){},hide:function(){},click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:!1,size:"medium",lang:"en-US",annotation:"bubble"},facebook:{url:"",urlCount:!1,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:!1,count:"horizontal",hashtags:"",via:"",related:"",lang:"en"},digg:{url:"",urlCount:!1,type:"DiggCompact"},delicious:{url:"",urlCount:!1,size:"medium"},stumbleupon:{url:"",urlCount:!1,layout:"1"},linkedin:{url:"",urlCount:!1,counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"}}},c={googlePlus:"",facebook:"https://graph.facebook.com/?ids={url}&callback=?",twitter:"https://opensharecount.com/count.json?url={url}",digg:"https://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",delicious:"https://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",stumbleupon:"",linkedin:"https://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:""},u={googlePlus:function(e){var o,s=e.options.buttons.googlePlus,r='<div class="button googleplus"><div class="g-follow" data-annotation="none" data-height="20" data-href="https://plus.google.com/+Pikock" data-rel="author"></div></div>',a='<div class="button googleplus"><div class="g-plusone" data-size="'+s.size+'" data-href="'+(""!==s.url?s.url:e.options.url)+'" data-annotation="'+s.annotation+'"></div></div>';o=s.username?r:a,t(e.element).find(".buttons").append(o),i.___gcfg={lang:e.options.buttons.googlePlus.lang};var l=0;"undefined"==typeof gapi&&0==l?(l=1,function(){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.src="//apis.google.com/js/plusone.js";var e=n.getElementsByTagName("script")[0],i=function(t){return"script"==t.nodeName.toLowerCase()&&"//apis.google.com/js/plusone.js"==t.getAttribute("src")};Array.prototype.some.call(e.parentNode.childNodes,i)||e.parentNode.insertBefore(t,e)}()):s.username?gapi.follow.go():gapi.plusone.go()},facebook:function(e){var i,n=e.options.buttons.facebook,o='<div class="fb-like"><div class="fb-like" data-layout="button"   data-action="like" data-size="small" data-share="false" data-href="'+n.username+'" data-show-faces="true"></div></div>',s='<div class="button facebook"><div id="fb-root"></div><div class="fb-share-button" data-href="'+(""!==n.url?n.url:e.options.url)+'" data-send="'+n.send+'" data-layout="'+n.layout+'" data-width="'+n.width+'" data-show-faces="'+n.faces+'" data-action="'+n.action+'" data-colorscheme="'+n.colorscheme+'" data-font="'+n.font+'" data-via="'+n.via+'"></div></div>';i=n.username?o:s;var r=function(e,i){t(e.element).find(".buttons").append(i)};t.ajaxSetup({cache:!0}),t.getScript("//connect.facebook.net/"+n.lang+"/sdk.js",function(){FB.init({appId:"208858345956342",status:!0,xfbml:!0,version:"v2.5"}),scriptLoaded=!0,r(e,i),FB.XFBML.parse()})},twitter:function(e){var i=e.options.buttons.twitter;t(e.element).find(".buttons").append(i.username?'<div class="button twitter" data-text="'+i.username+'"><a href="https://twitter.com/'+i.username+'"  data-show-screen-name="false" class="twitter-follow-button" data-text="'+i.username+'" data-show-count="false" data-lang="'+i.lang+'">Follow @'+i.username+"</a></div>":'<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(""!==i.url?i.url:e.options.url)+'" data-count="'+i.count+'" data-text="'+e.options.text+'" data-via="'+i.via+'" data-hashtags="'+i.hashtags+'" data-related="'+i.related+'" data-lang="'+i.lang+'">Tweet</a></div>');var o=0;"undefined"==typeof twttr&&0==o?(o=1,function(){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.src="//platform.twitter.com/widgets.js";var e=n.getElementsByTagName("script")[0],i=function(t){return"script"==t.nodeName.toLowerCase()&&"//platform.twitter.com/widgets.js"==t.getAttribute("src")};Array.prototype.some.call(e.parentNode.childNodes,i)||e.parentNode.insertBefore(t,e)}()):t.ajax({url:"//platform.twitter.com/widgets.js",dataType:"script",cache:!0})},digg:function(e){var i=e.options.buttons.digg;t(e.element).find(".buttons").append('<div class="button digg"><a class="DiggThisButton '+i.type+'" rel="nofollow external" href="http://digg.com/submit?url='+encodeURIComponent(""!==i.url?i.url:e.options.url)+'"></a></div>');var o=0;"undefined"==typeof __DBW&&0==o&&(o=1,function(){var t=n.createElement("SCRIPT"),e=n.getElementsByTagName("SCRIPT")[0];t.type="text/javascript",t.async=!0,t.src="//widgets.digg.com/buttons.js",e.parentNode.insertBefore(t,e)}())},delicious:function(e){if("tall"==e.options.buttons.delicious.size)var i="width:50px;",n="height:35px;width:50px;font-size:15px;line-height:35px;",o="height:18px;line-height:18px;margin-top:3px;";else var i="width:93px;",n="float:right;padding:0 3px;height:20px;width:26px;line-height:20px;",o="float:left;height:20px;line-height:20px;";var s=e.shorterTotal(e.options.count.delicious);"undefined"==typeof s&&(s=0),t(e.element).find(".buttons").append('<div class="button delicious"><div style="'+i+'font:12px Arial,Helvetica,sans-serif;cursor:pointer;color:#666666;display:inline-block;float:none;height:20px;line-height:normal;margin:0;padding:0;text-indent:0;vertical-align:baseline;"><div style="'+n+'background-color:#fff;margin-bottom:5px;overflow:hidden;text-align:center;border:1px solid #ccc;border-radius:3px;">'+s+'</div><div style="'+o+'display:block;padding:0;text-align:center;text-decoration:none;width:50px;background-color:#7EACEE;border:1px solid #40679C;border-radius:3px;color:#fff;"><img src="https://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" /> Add</div></div></div>'),t(e.element).find(".delicious").on("click",function(){e.openPopup("delicious")})},stumbleupon:function(e){var o=e.options.buttons.stumbleupon;t(e.element).find(".buttons").append('<div class="button stumbleupon"><su:badge layout="'+o.layout+'" location="'+(""!==o.url?o.url:e.options.url)+'"></su:badge></div>');var r=0;"undefined"==typeof STMBLPN&&0==r?(r=1,function(){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.src="//platform.stumbleupon.com/1/widgets.js";var e=n.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),s=i.setTimeout(function(){"undefined"!=typeof STMBLPN&&(STMBLPN.processWidgets(),clearInterval(s))},500)):STMBLPN.processWidgets()},linkedin:function(e){var o,s=e.options.buttons.linkedin,s=e.options.buttons.facebook,r='<div class="button linkedin"><script type="IN/FollowCompany" data-id="Pikock" data-counter="'+s.counter+'"></script></div>',a='<div class="button linkedin"><script type="in/share" data-url="'+(""!==s.url?s.url:e.options.url)+'" data-counter="'+s.counter+'"></script></div>';o=s.username?r:a,t(e.element).find(".buttons").append(o);var l=0;"undefined"==typeof i.IN&&0==l?(l=1,function(){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.src="//platform.linkedin.com/in.js";var e=n.getElementsByTagName("script")[0],i=function(t){return"script"==t.nodeName.toLowerCase()&&"//platform.linkedin.com/in.js"==t.getAttribute("src")};Array.prototype.some.call(e.parentNode.childNodes,i)||e.parentNode.insertBefore(t,e),s.lang}()):(i.IN.init(),IN.parse())},pinterest:function(e){var i=e.options.buttons.pinterest;t(e.element).find(".buttons").append('<div class="button pinterest"><a href="https://pinterest.com/pin/create/button/?url='+(""!==i.url?i.url:e.options.url)+"&media="+i.media+"&description="+i.description+'" class="pin-it-button" count-layout="'+i.layout+'">Pin It</a></div>'),function(){var t=n.createElement("script");t.type="text/javascript",t.async=!0,t.src="//assets.pinterest.com/js/pinit.js";var e=n.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}},h={googlePlus:function(){},facebook:function(){fb=i.setInterval(function(){"undefined"!=typeof FB&&(FB.Event.subscribe("edge.create",function(t){_gaq.push(["_trackSocial","facebook","like",t])}),FB.Event.subscribe("edge.remove",function(t){_gaq.push(["_trackSocial","facebook","unlike",t])}),FB.Event.subscribe("message.send",function(t){_gaq.push(["_trackSocial","facebook","send",t])}),clearInterval(fb))},1e3)},twitter:function(){tw=i.setInterval(function(){"undefined"!=typeof twttr&&(twttr.events.bind("tweet",function(t){t&&_gaq.push(["_trackSocial","twitter","tweet"])}),clearInterval(tw))},1e3)},digg:function(){},delicious:function(){},stumbleupon:function(){},linkedin:function(){},pinterest:function(){}},d={googlePlus:function(t){i.open("https://plus.google.com/share?hl="+t.buttons.googlePlus.lang+"&url="+encodeURIComponent(""!==t.buttons.googlePlus.url?t.buttons.googlePlus.url:t.url),"","toolbar=0, status=0, width=900, height=500")},facebook:function(t){i.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(""!==t.buttons.facebook.url?t.buttons.facebook.url:t.url)+"&t="+t.text,"","toolbar=0, status=0, width=900, height=500")},twitter:function(t){i.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(t.text)+"&url="+encodeURIComponent(""!==t.buttons.twitter.url?t.buttons.twitter.url:t.url)+(""!==t.buttons.twitter.via?"&via="+t.buttons.twitter.via:""),"","toolbar=0, status=0, width=650, height=360")},digg:function(t){i.open("https://digg.com/tools/diggthis/submit?url="+encodeURIComponent(""!==t.buttons.digg.url?t.buttons.digg.url:t.url)+"&title="+t.text+"&related=true&style=true","","toolbar=0, status=0, width=650, height=360")},delicious:function(t){i.open("https://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(""!==t.buttons.delicious.url?t.buttons.delicious.url:t.url)+"&title="+t.text,"delicious","toolbar=no,width=550,height=550")},stumbleupon:function(t){i.open("https://www.stumbleupon.com/badge/?url="+encodeURIComponent(""!==t.buttons.delicious.url?t.buttons.delicious.url:t.url),"stumbleupon","toolbar=no,width=550,height=550")},linkedin:function(t){i.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(""!==t.buttons.delicious.url?t.buttons.delicious.url:t.url)+"&token=&isFramed=true","linkedin","toolbar=no,width=550,height=550")},pinterest:function(t){i.open("https://pinterest.com/pin/create/button/?url="+encodeURIComponent(""!==t.buttons.pinterest.url?t.buttons.pinterest.url:t.url)+"&media="+encodeURIComponent(t.buttons.pinterest.media)+"&description="+t.buttons.pinterest.description,"pinterest","toolbar=no,width=700,height=300")}};r.prototype.init=function(){var e=this;""!==this.options.urlCurl&&(c.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus",c.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon",c.pinterest=this.options.urlCurl+"?url={url}&type=pinterest"),t(this.element).addClass(this.options.className),"undefined"!=typeof t(this.element).data("title")&&(this.options.title=t(this.element).attr("data-title")),"undefined"!=typeof t(this.element).data("url")&&(this.options.url=t(this.element).data("url"),""===t(this.element).data("url")&&(this.options.url=location.href.split("?")[0])),"undefined"!=typeof t(this.element).data("text")&&(this.options.text=t(this.element).data("text")),t.each(this.options.share,function(t,i){i===!0&&e.options.shareTotal++}),e.options.enableCounter===!0?t.each(this.options.share,function(t,i){if(i===!0)try{e.getSocialJson(t)}catch(n){}}):""!==e.options.template?(e.renderer(),e.rendererPerso()):this.loadButtons(),t(this.element).hover(function(){0===t(this).find(".buttons").length&&e.options.enableHover===!0&&e.loadButtons(),e.options.hover(e,e.options)},function(){e.options.hide(e,e.options)}),t(this.element).click(function(){return e.options.click(e,e.options),!1})},r.prototype.loadButtons=function(){var e=this;t(this.element).append('<div class="buttons"></div>'),t.each(e.options.share,function(t,i){1==i&&(u[t](e),e.options.enableTracking===!0&&h[t]())})},r.prototype.getSocialJson=function(e){var i=this,n=0,o=c[e].replace("{url}",encodeURIComponent(this.options.url));this.options.buttons[e].urlCount===!0&&""!==this.options.buttons[e].url&&(o=c[e].replace("{url}",this.options.buttons[e].url)),""!=o&&""!==i.options.urlCurl||!this.options.buttons[e].urlCount?t.getJSON(o,function(t){if("undefined"!=typeof t.count){var o=t.count+"";o=o.replace("\xc2\xa0",""),n+=parseInt(o,10)}else t.data&&t.data.length>0&&"undefined"!=typeof t.data[0].total_count?n+=parseInt(t.data[0].total_count,10):"undefined"!=typeof t[i.options.url]?t[i.options.url].share&&t[i.options.url].share.share_count&&(n+=parseInt(t[i.options.url].share.share_count,10),console.log("count",n)):"undefined"!=typeof t[0]?t[0].total_posts&&(n+=parseInt(t[0].total_posts,10)):"undefined"!=typeof t[0];i.options.count[e]=n,i.options.total+=n,i.renderer(),i.rendererPerso()}).error(function(){i.options.count[e]=0,i.rendererPerso()}):(i.renderer(),i.options.count[e]=0,i.rendererPerso())},r.prototype.rendererPerso=function(){var t=0;for(e in this.options.count)t++;t===this.options.shareTotal&&this.options.render(this,this.options)},r.prototype.renderer=function(){var e=this.options.total,i=this.options.template;if(this.options.shorterTotal===!0&&(e=this.shorterTotal(e)),""!==i)i=i.replace("{total}",e),t(this.element).html(i);else{var n="";0!=e&&(n='<a class="count" href="#">'+e+"</a>"),t(this.element).html('<div class="box">'+n+(""!==this.options.title?'<a class="share" href="#">'+this.options.title+"</a>":"")+"</div>")}},r.prototype.shorterTotal=function(t){return t>=1e6?t=(t/1e6).toFixed(2)+"M":t>=1e3&&(t=(t/1e3).toFixed(1)+"k"),t},r.prototype.openPopup=function(t){if(d[t](this.options),this.options.enableTracking===!0){var e={googlePlus:{site:"Google",action:"+1"},facebook:{site:"facebook",action:"like"},twitter:{site:"twitter",action:"tweet"},digg:{site:"digg",action:"add"},delicious:{site:"delicious",action:"add"},stumbleupon:{site:"stumbleupon",action:"add"},linkedin:{site:"linkedin",action:"share"},pinterest:{site:"pinterest",action:"pin"}};_gaq.push(["_trackSocial",e[t].site,e[t].action])}},r.prototype.simulateClick=function(){var e=t(this.element).html();t(this.element).html(e.replace(this.options.total,this.options.total+1))},r.prototype.update=function(t,e){""!==t&&(this.options.url=t),""!==e&&(this.options.text=e)},t.fn[a]=function(e){var i=arguments;return e===o||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+a)||t.data(this,"plugin_"+a,new r(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var n=t.data(this,"plugin_"+a);n instanceof r&&"function"==typeof n[e]&&n[e].apply(n,Array.prototype.slice.call(i,1))}):void 0}}(jQuery,window,document),window.Modernizr=function(t,e,i){function n(t){y.cssText=t}function o(t,e){return typeof t===e}function s(t,e){return!!~(""+t).indexOf(e)}function r(t,e){for(var n in t){var o=t[n];if(!s(o,"-")&&y[o]!==i)return"pfx"==e?o:!0}return!1}function a(t,e,n){for(var s in t){var r=e[t[s]];if(r!==i)return n===!1?t[s]:o(r,"function")?r.bind(n||e):r}return!1}function l(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+x.join(n+" ")+n).split(" ");return o(e,"string")||o(e,"undefined")?r(s,e):(s=(t+" "+C.join(n+" ")+n).split(" "),a(s,e,i))}var c,u,h,d="2.6.2",p={},f=!0,m=e.documentElement,g="modernizr",v=e.createElement(g),y=v.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",x=w.split(" "),C=w.toLowerCase().split(" "),k={},T=[],I=T.slice,_=function(t,i,n,o){var s,r,a,l,c=e.createElement("div"),u=e.body,h=u||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=o?o[n]:g+(n+1),c.appendChild(a);return s=["&#173;",'<style id="s',g,'">',t,"</style>"].join(""),c.id=g,(u?c:h).innerHTML+=s,h.appendChild(c),u||(h.style.background="",h.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(h)),r=i(c,t),u?c.parentNode.removeChild(c):(h.parentNode.removeChild(h),m.style.overflow=l),!!r},F={}.hasOwnProperty;h=o(F,"undefined")||o(F.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return F.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=I.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=e.prototype;var s=new o,r=e.apply(s,i.concat(I.call(arguments)));return Object(r)===r?r:s}return e.apply(t,i.concat(I.call(arguments)))};return n}),k.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:_(["@media (",b.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i},k.csstransforms=function(){return!!l("transform")},k.csstransitions=function(){return l("transition")};for(var E in k)h(k,E)&&(u=E.toLowerCase(),p[u]=k[E](),T.push((p[u]?"":"no-")+u));return p.addTest=function(t,e){if("object"==typeof t)for(var n in t)h(t,n)&&p.addTest(n,t[n]);else{if(t=t.toLowerCase(),p[t]!==i)return p;e="function"==typeof e?e():e,"undefined"!=typeof f&&f&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},n(""),v=c=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=g[t[f]];return e||(e={},m++,t[f]=m,g[m]=e),e}function s(t,i,n){if(i||(i=e),u)return i.createElement(t);n||(n=o(i));var s;return s=n.cache[t]?n.cache[t].cloneNode():p.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),s.canHaveChildren&&!d.test(t)?n.frag.appendChild(s):s}function r(t,i){if(t||(t=e),u)return t.createDocumentFragment();i=i||o(t);for(var s=i.frag.cloneNode(),r=0,a=n(),l=a.length;l>r;r++)s.createElement(a[r]);return s}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return v.shivMethods?s(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function l(t){t||(t=e);var n=o(t);return v.shivCSS&&!c&&!n.hasCSS&&(n.hasCSS=!!i(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),u||a(t,n),t}var c,u,h=t.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",m=0,g={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,u=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(i){c=!0,u=!0}}();var v={elements:h.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:h.shivCSS!==!1,supportsUnknownElements:u,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:l,createElement:s,createDocumentFragment:r};t.html5=v,l(e)}(this,e),p._version=d,p._prefixes=b,p._domPrefixes=C,p._cssomPrefixes=x,p.testProp=function(t){return r([t])},p.testAllProps=l,p.testStyles=_,p.prefixed=function(t,e,i){return e?l(t,e,i):l(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+T.join(" "):""),p}(this,this.document),function(t,e,i){function n(t){return"[object Function]"==g.call(t)}function o(t){return"string"==typeof t}function s(){}function r(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();y=1,t?t.t?f(function(){("c"==t.t?d.injectCss:d.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):y=0}function l(t,i,n,o,s,l,c){function u(e){if(!p&&r(h.readyState)&&(b.r=p=1,!y&&a(),h.onload=h.onreadystatechange=null,e)){"img"!=t&&f(function(){x.removeChild(h)},50);for(var n in _[i])_[i].hasOwnProperty(n)&&_[i][n].onload()}}var c=c||d.errorTimeout,h=e.createElement(t),p=0,g=0,b={t:n,s:i,e:s,a:l,x:c};1===_[i]&&(g=1,_[i]=[]),"object"==t?h.data=i:(h.src=i,h.type=t),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){u.call(this,g)},v.splice(o,0,b),"img"!=t&&(g||2===_[i]?(x.insertBefore(h,w?null:m),f(u,c)):_[i].push(h))}function c(t,e,i,n,s){return y=0,e=e||"j",o(t)?l("c"==e?k:C,t,e,this.i++,i,n,s):(v.splice(this.i++,0,t),1==v.length&&a()),this}function u(){var t=d;return t.loader={load:c,i:0},t}var h,d,p=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in p.style,w=b&&!!e.createRange().compareNode,x=w?p:m.parentNode,p=t.opera&&"[object Opera]"==g.call(t.opera),p=!!e.attachEvent&&!p,C=b?"object":p?"script":"img",k=p?"script":C,T=Array.isArray||function(t){return"[object Array]"==g.call(t)},I=[],_={},F={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};d=function(t){function e(t){var e,i,n,t=t.split("!"),o=I.length,s=t.pop(),r=t.length,s={url:s,origUrl:s,prefixes:t};for(i=0;r>i;i++)n=t[i].split("="),(e=F[n.shift()])&&(s=e(s,n));for(i=0;o>i;i++)s=I[i](s);return s}function r(t,o,s,r,a){var l=e(t),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(o&&(o=n(o)?o:o[t]||o[r]||o[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,o,s,r,a):(_[l.url]?l.noexec=!0:_[l.url]=1,s.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(n(o)||n(c))&&s.load(function(){u(),o&&o(l.origUrl,a,r),c&&c(l.origUrl,a,r),_[l.url]=2})))}function a(t,e){function i(t,i){if(t){if(o(t))i||(h=function(){var t=[].slice.call(arguments);d.apply(this,t),p()}),r(t,h,e,0,c);else if(Object(t)===t)for(l in a=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(l)&&(!i&&!--a&&(n(h)?h=function(){var t=[].slice.call(arguments);d.apply(this,t),p()}:h[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),p()}}(d[l])),r(t[l],h,e,l,c))}else!i&&p()}var a,l,c=!!t.test,u=t.load||t.both,h=t.callback||s,d=h,p=t.complete||s;i(c?t.yep:t.nope,!!u),u&&i(u)}var l,c,h=this.yepnope.loader;if(o(t))r(t,0,h,0);else if(T(t))for(l=0;l<t.length;l++)c=t[l],o(c)?r(c,0,h,0):T(c)?d(c):Object(c)===c&&a(c,h);else Object(t)===t&&a(t,h)},d.addPrefix=function(t,e){F[t]=e},d.addFilter=function(t){I.push(t)},d.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",h=function(){e.removeEventListener("DOMContentLoaded",h,0),e.readyState="complete"},0)),t.yepnope=u(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,i,n,o,l,c){var u,h,p=e.createElement("script"),o=o||d.errorTimeout;p.src=t;for(h in n)p.setAttribute(h,n[h]);i=c?a:i||s,p.onreadystatechange=p.onload=function(){!u&&r(p.readyState)&&(u=1,i(),p.onload=p.onreadystatechange=null)},f(function(){u||(u=1,i(1))},o),l?p.onload():m.parentNode.insertBefore(p,m)},t.yepnope.injectCss=function(t,i,n,o,r,l){var c,o=e.createElement("link"),i=l?a:i||s;o.href=t,o.rel="stylesheet",o.type="text/css";for(c in n)o.setAttribute(c,n[c]);r||(m.parentNode.insertBefore(o,m),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t,e,i){"use strict";var n,o,s=t.event;n=s.special.debouncedresize={setup:function(){t(this).on("resize",n.handler)},teardown:function(){t(this).off("resize",n.handler)},handler:function(t,e){var i=this,r=arguments,a=function(){t.type="debouncedresize",s.dispatch.apply(i,r)};o&&clearTimeout(o),e?a():o=setTimeout(a,n.threshold)},threshold:150};var r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";t.fn.imagesLoaded=function(e){function n(){var i=t(h),n=t(d);a&&(d.length?a.reject(c,i,n):a.resolve(c)),t.isFunction(e)&&e.call(s,c,i,n)}function o(e,i){e.src!==r&&-1===t.inArray(e,u)&&(u.push(e),i?d.push(e):h.push(e),t.data(e,"imagesLoaded",{isBroken:i,src:e.src}),l&&a.notifyWith(t(e),[i,c,t(h),t(d)]),c.length===u.length&&(setTimeout(n),c.unbind(".imagesLoaded")))}var s=this,a=t.isFunction(t.Deferred)?t.Deferred():0,l=t.isFunction(a.notify),c=s.find("img").add(s.filter("img")),u=[],h=[],d=[];return t.isPlainObject(e)&&t.each(e,function(t,i){"callback"===t?e=i:a&&a[t](i)}),c.length?c.bind("load.imagesLoaded error.imagesLoaded",function(t){o(t.target,"error"===t.type)}).each(function(e,n){var s=n.src,a=t.data(n,"imagesLoaded");return a&&a.src===s?void o(n,a.isBroken):n.complete&&n.naturalWidth!==i?void o(n,0===n.naturalWidth||0===n.naturalHeight):void((n.readyState||n.complete)&&(n.src=r,n.src=s))}):n(),a?a.promise(s):s};var a=t(e),l=e.Modernizr;t.Elastislide=function(e,i){this.$el=t(i),this._init(e)},t.Elastislide.defaults={orientation:"horizontal",speed:500,easing:"ease-in-out",minItems:3,imgSizeItemSelector:"img",start:0,onClick:function(){return!1},onReady:function(){return!1},onBeforeSlide:function(){return!1},onAfterSlide:function(){return!1}},t.Elastislide.prototype={_init:function(e){this.options=t.extend(!0,{},t.Elastislide.defaults,e);var i=this,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};return this.transEndEventName=n[l.prefixed("transition")],this.support=l.csstransitions&&l.csstransforms,this.current=this.options.start,this.isSliding=!1,this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,0===this.itemsCount?!1:(this._validate(),this.$items.detach(),this.$el.empty(),this.$el.append(this.$items),this.$el.wrap('<div class="elastislide-wrapper elastislide-loading elastislide-'+this.options.orientation+'"></div>'),this.hasTransition=!1,this.hasTransitionTimeout=setTimeout(function(){i._addTransition()},100),void this.$el.imagesLoaded(function(){i.$el.show(),i._layout(),i._configure(),i.hasTransition?(i._removeTransition(),i._slideToItem(i.current),i.$el.on(i.transEndEventName,function(){i.$el.off(i.transEndEventName),i._setWrapperSize(),i._addTransition(),i._initEvents()})):(clearTimeout(i.hasTransitionTimeout),i._setWrapperSize(),i._initEvents(),i._slideToItem(i.current),setTimeout(function(){i._addTransition()},25)),i.options.onReady()}))},_validate:function(){this.options.minItems instanceof Function&&(this._minItemsFn=this.options.minItems,this.options.minItems=this.options.minItems(document.documentElement.clientWidth)),this.options.speed<0&&(this.options.speed=500),(this.options.minItems<1||this.options.minItems>this.itemsCount)&&(this.options.minItems=1),(this.options.start<0||this.options.start>this.itemsCount-1)&&(this.options.start=0),"horizontal"!=this.options.orientation&&"vertical"!=this.options.orientation&&(this.options.orientation="horizontal")},_layout:function(){this.$el.wrap('<div class="elastislide-carousel"></div>'),this.$carousel=this.$el.parent(),this.$wrapper=this.$carousel.parent().removeClass("elastislide-loading");var t=this.$items.find(this.options.imgSizeItemSelector).first();this.imgSize={width:t.outerWidth(!0),height:t.outerHeight(!0)},this._setItemsSize(),"horizontal"===this.options.orientation?this.$el.css("max-height",this.imgSize.height):this.$el.css("height",this.options.minItems*this.imgSize.height),this._addControls()},_addTransition:function(){this.support&&this.$el.css("transition","all "+this.options.speed+"ms "+this.options.easing),this.hasTransition=!0},_removeTransition:function(){this.support&&this.$el.css("transition","all 0s"),this.hasTransition=!1},_addControls:function(){var e=this;this.$navigation=t('<nav><span class="elastislide-prev">\u2039</span><span class="elastislide-next">\u203a</span></nav>').appendTo(this.$wrapper),this.$navPrev=this.$navigation.find("span.elastislide-prev").on("mousedown.elastislide",function(){return e._slide("prev"),!1}),this.$navNext=this.$navigation.find("span.elastislide-next").on("mousedown.elastislide",function(){return e._slide("next"),!1})},_setItemsSize:function(){var t="horizontal"===this.options.orientation?100*Math.floor(this.$carousel.width()/this.options.minItems)/this.$carousel.width():100;
this.$items.css({width:t+"%","max-width":this.imgSize.width,"max-height":this.imgSize.height}),"vertical"===this.options.orientation&&this.$wrapper.css("max-width",this.imgSize.width+parseInt(this.$wrapper.css("padding-left"))+parseInt(this.$wrapper.css("padding-right")))},_setWrapperSize:function(){"vertical"===this.options.orientation&&this.$wrapper.css({height:this.options.minItems*this.imgSize.height+parseInt(this.$wrapper.css("padding-top"))+parseInt(this.$wrapper.css("padding-bottom"))})},_configure:function(){this.fitCount="horizontal"===this.options.orientation?this.$carousel.width()<this.options.minItems*this.imgSize.width?this.options.minItems:Math.floor(this.$carousel.width()/this.imgSize.width):this.$carousel.height()<this.options.minItems*this.imgSize.height?this.options.minItems:Math.floor(this.$carousel.height()/this.imgSize.height)},_initEvents:function(){var e=this;a.on("debouncedresize.elastislide",function(){e._minItemsFn&&(e.options.minItems=e._minItemsFn(document.documentElement.clientWidth)),e._setItemsSize(),e._configure(),e._slideToItem(e.current)}),this.$el.on(this.transEndEventName,function(){e._onEndTransition()}),this.$el.on("horizontal"===this.options.orientation?{swipeleft:function(){e._slide("next")},swiperight:function(){e._slide("prev")}}:{swipeup:function(){e._slide("next")},swipedown:function(){e._slide("prev")}}),this.$el.on("click.elastislide","li",function(i){var n=t(this);e.options.onClick(n,n.index(),i)})},_destroy:function(t){this.$el.off(this.transEndEventName).off("swipeleft swiperight swipeup swipedown .elastislide"),a.off(".elastislide"),this.$el.css({"max-height":"none",transition:"none"}).unwrap(this.$carousel).unwrap(this.$wrapper),this.$items.css({width:"auto","max-width":"none","max-height":"none"}),this.$navigation.remove(),this.$wrapper.remove(),t&&t.call()},_toggleControls:function(t,e){e?"next"===t?this.$navNext.show():this.$navPrev.show():"next"===t?this.$navNext.hide():this.$navPrev.hide()},_slide:function(e,n){if(this.isSliding)return!1;this.options.onBeforeSlide(),this.isSliding=!0;var o=this,s=this.translation||0,r="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),a=this.itemsCount*r,l="horizontal"===this.options.orientation?this.$carousel.width():this.$carousel.height();if(n===i){var c=this.fitCount*r;if(0>c)return!1;if("next"===e&&a-(Math.abs(s)+c)<l)c=a-(Math.abs(s)+l),this._toggleControls("next",!1),this._toggleControls("prev",!0);else if("prev"===e&&Math.abs(s)-c<0)c=Math.abs(s),this._toggleControls("next",!0),this._toggleControls("prev",!1);else{var u="next"===e?Math.abs(s)+Math.abs(c):Math.abs(s)-Math.abs(c);u>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),a-l>u?this._toggleControls("next",!0):this._toggleControls("next",!1)}n="next"===e?s-c:s+c}else{var c=Math.abs(n);Math.max(a,l)-c<l&&(n=-(Math.max(a,l)-l)),c>0?this._toggleControls("prev",!0):this._toggleControls("prev",!1),Math.max(a,l)-l>c?this._toggleControls("next",!0):this._toggleControls("next",!1)}if(this.translation=n,s===n)return this._onEndTransition(),!1;if(this.support)"horizontal"===this.options.orientation?(this.$el.css("-webkit-transform","translateX("+n+"px)"),this.$el.css("-o-transform","translateX("+n+"px)"),this.$el.css("-ms-transform","translateX("+n+"px)"),this.$el.css("-moz-transform","translateX("+n+"px)"),this.$el.css("transform","translateX("+n+"px)")):(this.$el.css("-webkit-transform","translateY("+n+"px)"),this.$el.css("-o-transform","translateY("+n+"px)"),this.$el.css("-ms-transform","translateY("+n+"px)"),this.$el.css("-moz-transform","translateY("+n+"px)"),this.$el.css("transform","translateY("+n+"px)"));else{t.fn.applyStyle=this.hasTransition?t.fn.animate:t.fn.css;var h="horizontal"===this.options.orientation?{left:n}:{top:n};this.$el.stop().applyStyle(h,t.extend(!0,[],{duration:this.options.speed,complete:function(){o._onEndTransition()}}))}this.hasTransition||this._onEndTransition()},_onEndTransition:function(){this.isSliding=!1,this.options.onAfterSlide()},_slideTo:function(t){var t=t||this.current,e=Math.abs(this.translation)||0,i="horizontal"===this.options.orientation?this.$items.outerWidth(!0):this.$items.outerHeight(!0),n=e+this.$carousel.width(),o=Math.abs(t*i);(o+i>n||e>o)&&this._slideToItem(t)},_slideToItem:function(t){var e="horizontal"===this.options.orientation?t*this.$items.outerWidth(!0):t*this.$items.outerHeight(!0);this._slide("",-e)},add:function(t){var e=this,i=this.current,n=this.$items.eq(this.current);this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,this.current=n.index(),this._setItemsSize(),this._configure(),this._removeTransition(),i<this.current?this._slideToItem(this.current):this._slide("next",this.translation),setTimeout(function(){e._addTransition()},25),t&&t.call()},setCurrent:function(t,e){this.current=t,this._slideTo(),e&&e.call()},next:function(){this._slide("next")},previous:function(){this._slide("prev")},slideStart:function(){this._slideTo(0)},slideEnd:function(){this._slideTo(this.itemsCount-1)},destroy:function(t){this._destroy(t)}};var c=function(t){e.console&&e.console.error(t)};t.fn.elastislide=function(e){if("string"==typeof e){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"elastislide");return n?t.isFunction(n[e])&&"_"!==e.charAt(0)?void n[e].apply(n,i):void c("no such method '"+e+"' for elastislide self"):void c("cannot call methods on elastislide prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){var i=t.data(this,"elastislide");i?i._init():i=t.data(this,"elastislide",new t.Elastislide(e,this))});return self}}(jQuery,window);var Base=function(){};Base.extend=function(t,e){"use strict";var i=Base.prototype.extend;Base._prototyping=!0;var n=new this;i.call(n,t),n.base=function(){},delete Base._prototyping;var o=n.constructor,s=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==s)this._constructing=!0,o.apply(this,arguments),delete this._constructing;else if(null!==arguments[0])return(arguments[0].extend||i).call(arguments[0],n)};return s.ancestor=this,s.extend=this.extend,s.forEach=this.forEach,s.implement=this.implement,s.prototype=n,s.toString=this.toString,s.valueOf=function(t){return"object"==t?s:o.valueOf()},i.call(s,e),"function"==typeof s.init&&s.init(),s},Base.prototype={extend:function(t,e){if(arguments.length>1){var i=this[t];if(i&&"function"==typeof e&&(!i.valueOf||i.valueOf()!=e.valueOf())&&/\bbase\b/.test(e)){var n=e.valueOf();e=function(){var t=this.base||Base.prototype.base;this.base=i;var e=n.apply(this,arguments);return this.base=t,e},e.valueOf=function(t){return"object"==t?e:n},e.toString=Base.toString}this[t]=e}else if(t){var o=Base.prototype.extend;Base._prototyping||"function"==typeof this||(o=this.extend||o);for(var s={toSource:null},r=["constructor","toString","valueOf"],a=Base._prototyping?0:1;l=r[a++];)t[l]!=s[l]&&o.call(this,l,t[l]);for(var l in t)s[l]||o.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,i){for(var n in t)void 0===this.prototype[n]&&e.call(i,t[n],n,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}});var FlipClock;!function(t){"use strict";FlipClock=function(t,e,i){return e instanceof Object&&e instanceof Date==!1&&(i=e,e=0),new FlipClock.Factory(t,e,i)},FlipClock.Lang={},FlipClock.Base=Base.extend({buildDate:"2014-12-12",version:"0.7.7",constructor:function(e,i){"object"!=typeof e&&(e={}),"object"!=typeof i&&(i={}),this.setOptions(t.extend(!0,{},e,i))},callback:function(t){if("function"==typeof t){for(var e=[],i=1;i<=arguments.length;i++)arguments[i]&&e.push(arguments[i]);t.apply(this,e)}},log:function(t){window.console&&console.log&&console.log(t)},getOption:function(t){return this[t]?this[t]:!1},getOptions:function(){return this},setOption:function(t,e){this[t]=e},setOptions:function(t){for(var e in t)"undefined"!=typeof t[e]&&this.setOption(e,t[e])}})}(jQuery),function(t){"use strict";FlipClock.Face=FlipClock.Base.extend({autoStart:!0,dividers:[],factory:!1,lists:[],constructor:function(t,e){this.dividers=[],this.lists=[],this.base(e),this.factory=t},build:function(){this.autoStart&&this.start()},createDivider:function(e,i,n){"boolean"!=typeof i&&i||(n=i,i=e);var o=['<span class="'+this.factory.classes.dot+' top"></span>','<span class="'+this.factory.classes.dot+' bottom"></span>'].join("");n&&(o=""),e=this.factory.localize(e);var s=['<span class="'+this.factory.classes.divider+" "+(i?i:"").toLowerCase()+'">','<span class="'+this.factory.classes.label+'">'+(e?e:"")+"</span>",o,"</span>"],r=t(s.join(""));return this.dividers.push(r),r},createList:function(t,e){"object"==typeof t&&(e=t,t=0);var i=new FlipClock.List(this.factory,t,e);return this.lists.push(i),i},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0,{minimumDigits:this.factory.minimumDigits}),this.flip(this.factory.original,!1)},appendDigitToClock:function(t){t.$el.append(!1)},addDigit:function(t){var e=this.createList(t,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});this.appendDigitToClock(e)},start:function(){},stop:function(){},autoIncrement:function(){this.factory.countdown?this.decrement():this.increment()},increment:function(){this.factory.time.addSecond()},decrement:function(){0==this.factory.time.getTimeSeconds()?this.factory.stop():this.factory.time.subSecond()},flip:function(e,i){var n=this;t.each(e,function(t,e){var o=n.lists[t];o?(i||e==o.digit||o.play(),o.select(e)):n.addDigit(e)})}})}(jQuery),function(t){"use strict";FlipClock.Factory=FlipClock.Base.extend({animationRate:1e3,autoStart:!0,callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",countdown:!1,defaultClockFace:"HourlyCounter",defaultLanguage:"english",$el:!1,face:!0,lang:!1,language:"english",minimumDigits:0,original:!1,running:!1,time:!1,timer:!1,$wrapper:!1,constructor:function(e,i,n){n||(n={}),this.lists=[],this.running=!1,this.base(n),this.$el=t(e).addClass(this.classes.wrapper),this.$wrapper=this.$el,this.original=i instanceof Date?i:i?Math.round(i):0,this.time=new FlipClock.Time(this,this.original,{minimumDigits:this.minimumDigits,animationRate:this.animationRate}),this.timer=new FlipClock.Timer(this,n),this.loadLanguage(this.language),this.loadClockFace(this.clockFace,n),this.autoStart&&this.start()},loadClockFace:function(t,e){var i,n="Face",o=!1;return t=t.ucfirst()+n,this.face.stop&&(this.stop(),o=!0),this.$el.html(""),this.time.minimumDigits=this.minimumDigits,i=FlipClock[t]?new FlipClock[t](this,e):new FlipClock[this.defaultClockFace+n](this,e),i.build(),this.face=i,o&&this.start(),this.face},loadLanguage:function(t){var e;return e=FlipClock.Lang[t.ucfirst()]?FlipClock.Lang[t.ucfirst()]:FlipClock.Lang[t]?FlipClock.Lang[t]:FlipClock.Lang[this.defaultLanguage],this.lang=e},localize:function(t,e){var i=this.lang;if(!t)return null;var n=t.toLowerCase();return"object"==typeof e&&(i=e),i&&i[n]?i[n]:t},start:function(t){var e=this;e.running||e.countdown&&!(e.countdown&&e.time.time>0)?e.log("Trying to start timer when countdown already at 0"):(e.face.start(e.time),e.timer.start(function(){e.flip(),"function"==typeof t&&t()}))},stop:function(t){this.face.stop(),this.timer.stop(t);for(var e in this.lists)this.lists.hasOwnProperty(e)&&this.lists[e].stop()},reset:function(t){this.timer.reset(t),this.face.reset()},setTime:function(t){this.time.time=t,this.flip(!0)},getTime:function(){return this.time},setCountdown:function(t){var e=this.running;this.countdown=t?!0:!1,e&&(this.stop(),this.start())},flip:function(t){this.face.flip(!1,t)}})}(jQuery),function(t){"use strict";FlipClock.List=FlipClock.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:!1,$el:!1,$obj:!1,items:[],lastDigit:0,constructor:function(t,e){this.factory=t,this.digit=e,this.lastDigit=e,this.$el=this.createList(),this.$obj=this.$el,e>0&&this.select(e),this.factory.$el.append(this.$el)},select:function(t){if("undefined"==typeof t?t=this.digit:this.digit=t,this.digit!=this.lastDigit){var e=this.$el.find("."+this.classes.before).removeClass(this.classes.before);this.$el.find("."+this.classes.active).removeClass(this.classes.active).addClass(this.classes.before),this.appendListItem(this.classes.active,this.digit),e.remove(),this.lastDigit=this.digit}},play:function(){this.$el.addClass(this.factory.classes.play)},stop:function(){var t=this;setTimeout(function(){t.$el.removeClass(t.factory.classes.play)},this.factory.timer.interval)},createListItem:function(t,e){return['<li class="'+(t?t:"")+'">','<a href="#">','<div class="up">','<div class="shadow"></div>','<div class="inn">'+(e?e:"")+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn">'+(e?e:"")+"</div>","</div>","</a>","</li>"].join("")},appendListItem:function(t,e){var i=this.createListItem(t,e);this.$el.append(i)},createList:function(){var e=this.getPrevDigit()?this.getPrevDigit():this.digit,i=t(['<ul class="'+this.classes.flip+" "+(this.factory.running?this.factory.classes.play:"")+'">',this.createListItem(this.classes.before,e),this.createListItem(this.classes.active,this.digit),"</ul>"].join(""));return i},getNextDigit:function(){return 9==this.digit?0:this.digit+1},getPrevDigit:function(){return 0==this.digit?9:this.digit-1}})}(jQuery),function(t){"use strict";String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},t.fn.FlipClock=function(e,i){return new FlipClock(t(this),e,i)},t.fn.flipClock=function(e,i){return t.fn.FlipClock(e,i)}}(jQuery),function(t){"use strict";FlipClock.Time=FlipClock.Base.extend({time:0,factory:!1,minimumDigits:0,constructor:function(t,e,i){"object"!=typeof i&&(i={}),i.minimumDigits||(i.minimumDigits=t.minimumDigits),this.base(i),this.factory=t,e&&(this.time=e)},convertDigitsToArray:function(t){var e=[];t=t.toString();for(var i=0;i<t.length;i++)t[i].match(/^\d*$/g)&&e.push(t[i]);return e},digit:function(t){var e=this.toString(),i=e.length;return e[i-t]?e[i-t]:!1},digitize:function(e){var i=[];if(t.each(e,function(t,e){e=e.toString(),1==e.length&&(e="0"+e);for(var n=0;n<e.length;n++)i.push(e.charAt(n))}),i.length>this.minimumDigits&&(this.minimumDigits=i.length),this.minimumDigits>i.length)for(var n=i.length;n<this.minimumDigits;n++)i.unshift("0");return i},getDateObject:function(){return this.time instanceof Date?this.time:new Date((new Date).getTime()+1e3*this.getTimeSeconds())},getDayCounter:function(t){var e=[this.getDays(),this.getHours(!0),this.getMinutes(!0)];return t&&e.push(this.getSeconds(!0)),this.digitize(e)},getDays:function(t){var e=this.getTimeSeconds()/60/60/24;return t&&(e%=7),Math.floor(e)},getHourCounter:function(){var t=this.digitize([this.getHours(),this.getMinutes(!0),this.getSeconds(!0)]);return t},getHourly:function(){return this.getHourCounter()},getHours:function(t){var e=this.getTimeSeconds()/60/60;return t&&(e%=24),Math.floor(e)},getMilitaryTime:function(t,e){"undefined"==typeof e&&(e=!0),t||(t=this.getDateObject());var i=[t.getHours(),t.getMinutes()];return e===!0&&i.push(t.getSeconds()),this.digitize(i)},getMinutes:function(t){var e=this.getTimeSeconds()/60;return t&&(e%=60),Math.floor(e)},getMinuteCounter:function(){var t=this.digitize([this.getMinutes(),this.getSeconds(!0)]);return t},getTimeSeconds:function(t){return t||(t=new Date),this.time instanceof Date?this.factory.countdown?Math.max(this.time.getTime()/1e3-t.getTime()/1e3,0):t.getTime()/1e3-this.time.getTime()/1e3:this.time},getTime:function(t,e){"undefined"==typeof e&&(e=!0),t||(t=this.getDateObject()),console.log(t);var i=t.getHours(),n=[i>12?i-12:0===i?12:i,t.getMinutes()];return e===!0&&n.push(t.getSeconds()),this.digitize(n)},getSeconds:function(t){var e=this.getTimeSeconds();return t&&(60==e?e=0:e%=60),Math.ceil(e)},getWeeks:function(t){var e=this.getTimeSeconds()/60/60/24/7;return t&&(e%=52),Math.floor(e)},removeLeadingZeros:function(e,i){var n=0,o=[];return t.each(i,function(t){e>t?n+=parseInt(i[t],10):o.push(i[t])}),0===n?o:i},addSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()+t):this.time+=t},addSecond:function(){this.addSeconds(1)},subSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()-t):this.time-=t},subSecond:function(){this.subSeconds(1)},toString:function(){return this.getTimeSeconds().toString()}})}(jQuery),function(){"use strict";FlipClock.Timer=FlipClock.Base.extend({callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},count:0,factory:!1,interval:1e3,animationRate:1e3,constructor:function(t,e){this.base(e),this.factory=t,this.callback(this.callbacks.init),this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(t){clearInterval(this.timer),this.count=0,this._setInterval(t),this.callback(this.callbacks.reset)},start:function(t){this.factory.running=!0,this._createTimer(t),this.callback(this.callbacks.start)},stop:function(t){this.factory.running=!1,this._clearInterval(t),this.callback(this.callbacks.stop),this.callback(t)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(t){this._setInterval(t)},_destroyTimer:function(t){this._clearInterval(),this.timer=!1,this.callback(t),this.callback(this.callbacks.destroy)},_interval:function(t){this.callback(this.callbacks.interval),this.callback(t),this.count++},_setInterval:function(t){var e=this;e._interval(t),e.timer=setInterval(function(){e._interval(t)},this.interval)}})}(jQuery),function(t){FlipClock.TwentyFourHourClockFace=FlipClock.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(e){var i=this,n=this.factory.$el.find("ul");this.factory.time.time||(this.factory.original=new Date,this.factory.time=new FlipClock.Time(this.factory,this.factory.original));var e=e?e:this.factory.time.getMilitaryTime(!1,this.showSeconds);e.length>n.length&&t.each(e,function(t,e){i.createList(e)}),this.createDivider(),this.createDivider(),t(this.dividers[0]).insertBefore(this.lists[this.lists.length-2].$el),t(this.dividers[1]).insertBefore(this.lists[this.lists.length-4].$el),this.base()},flip:function(t,e){this.autoIncrement(),t=t?t:this.factory.time.getMilitaryTime(!1,this.showSeconds),this.base(t,e)}})}(jQuery),function(t){FlipClock.CounterFace=FlipClock.Face.extend({shouldAutoIncrement:!1,constructor:function(t,e){"object"!=typeof e&&(e={}),t.autoStart=e.autoStart?!0:!1,e.autoStart&&(this.shouldAutoIncrement=!0),t.increment=function(){t.countdown=!1,t.setTime(t.getTime().getTimeSeconds()+1)},t.decrement=function(){t.countdown=!0;var e=t.getTime().getTimeSeconds();e>0&&t.setTime(e-1)},t.setValue=function(e){t.setTime(e)},t.setCounter=function(e){t.setTime(e)},this.base(t,e)},build:function(){var e=this,i=this.factory.$el.find("ul"),n=this.factory.getTime().digitize([this.factory.getTime().time]);n.length>i.length&&t.each(n,function(t,i){var n=e.createList(i);n.select(i)}),t.each(this.lists,function(t,e){e.play()}),this.base()},flip:function(t,e){this.shouldAutoIncrement&&this.autoIncrement(),t||(t=this.factory.getTime().digitize([this.factory.getTime().time])),this.base(t,e)},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0),this.flip()}})}(jQuery),function(t){FlipClock.DailyCounterFace=FlipClock.Face.extend({showSeconds:!0,constructor:function(t,e){this.base(t,e)},build:function(e){var i=this,n=this.factory.$el.find("ul"),o=0;e=e?e:this.factory.time.getDayCounter(this.showSeconds),e.length>n.length&&t.each(e,function(t,e){i.createList(e)}),this.showSeconds?t(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el):o=2,t(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4+o].$el),t(this.createDivider("Hours")).insertBefore(this.lists[this.lists.length-6+o].$el),t(this.createDivider("Days",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t||(t=this.factory.time.getDayCounter(this.showSeconds)),this.autoIncrement(),this.base(t,e)}})}(jQuery),function(t){FlipClock.HourlyCounterFace=FlipClock.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(e,i){var n=this,o=this.factory.$el.find("ul");i=i?i:this.factory.time.getHourCounter(),i.length>o.length&&t.each(i,function(t,e){n.createList(e)}),t(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el),t(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4].$el),e||t(this.createDivider("Hours",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t||(t=this.factory.time.getHourCounter()),this.autoIncrement(),this.base(t,e)},appendDigitToClock:function(t){this.base(t),this.dividers[0].insertAfter(this.dividers[0].next())}})}(jQuery),function(){FlipClock.MinuteCounterFace=FlipClock.HourlyCounterFace.extend({clearExcessDigits:!1,constructor:function(t,e){this.base(t,e)},build:function(){this.base(!0,this.factory.time.getMinuteCounter())},flip:function(t,e){t||(t=this.factory.time.getMinuteCounter()),this.base(t,e)}})}(jQuery),function(t){FlipClock.TwelveHourClockFace=FlipClock.TwentyFourHourClockFace.extend({meridium:!1,meridiumText:"AM",build:function(){var e=this.factory.time.getTime(!1,this.showSeconds);this.base(e),this.meridiumText=this.getMeridium(),this.meridium=t(['<ul class="flip-clock-meridium">',"<li>",'<a href="#">'+this.meridiumText+"</a>","</li>","</ul>"].join("")),this.meridium.insertAfter(this.lists[this.lists.length-1].$el)},flip:function(t,e){this.meridiumText!=this.getMeridium()&&(this.meridiumText=this.getMeridium(),this.meridium.find("a").html(this.meridiumText)),this.base(this.factory.time.getTime(!1,this.showSeconds),e)},getMeridium:function(){return(new Date).getHours()>=12?"PM":"AM"},isPM:function(){return"PM"==this.getMeridium()?!0:!1},isAM:function(){return"AM"==this.getMeridium()?!0:!1}})}(jQuery),function(){FlipClock.Lang.Arabic={years:"\u0633\u0646\u0648\u0627\u062a",months:"\u0634\u0647\u0648\u0631",days:"\u0623\u064a\u0627\u0645",hours:"\u0633\u0627\u0639\u0627\u062a",minutes:"\u062f\u0642\u0627\u0626\u0642",seconds:"\u062b\u0648\u0627\u0646\u064a"},FlipClock.Lang.ar=FlipClock.Lang.Arabic,FlipClock.Lang["ar-ar"]=FlipClock.Lang.Arabic,FlipClock.Lang.arabic=FlipClock.Lang.Arabic}(jQuery),function(){FlipClock.Lang.Danish={years:"\xc5r",months:"M\xe5neder",days:"Dage",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},FlipClock.Lang.da=FlipClock.Lang.Danish,FlipClock.Lang["da-dk"]=FlipClock.Lang.Danish,FlipClock.Lang.danish=FlipClock.Lang.Danish}(jQuery),function(){FlipClock.Lang.German={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"},FlipClock.Lang.de=FlipClock.Lang.German,FlipClock.Lang["de-de"]=FlipClock.Lang.German,FlipClock.Lang.german=FlipClock.Lang.German}(jQuery),function(){FlipClock.Lang.English={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},FlipClock.Lang.en=FlipClock.Lang.English,FlipClock.Lang["en-us"]=FlipClock.Lang.English,FlipClock.Lang.english=FlipClock.Lang.English}(jQuery),function(){FlipClock.Lang.Spanish={years:"A&#241;os",months:"Meses",days:"D&#205;as",hours:"Horas",minutes:"Minutos",seconds:"Segundo"},FlipClock.Lang.es=FlipClock.Lang.Spanish,FlipClock.Lang["es-es"]=FlipClock.Lang.Spanish,FlipClock.Lang.spanish=FlipClock.Lang.Spanish}(jQuery),function(){FlipClock.Lang.Finnish={years:"Vuotta",months:"Kuukautta",days:"P\xe4iv\xe4\xe4",hours:"Tuntia",minutes:"Minuuttia",seconds:"Sekuntia"},FlipClock.Lang.fi=FlipClock.Lang.Finnish,FlipClock.Lang["fi-fi"]=FlipClock.Lang.Finnish,FlipClock.Lang.finnish=FlipClock.Lang.Finnish}(jQuery),function(){FlipClock.Lang.French={years:"Ans",months:"Mois",days:"Jours",hours:"Heures",minutes:"Minutes",seconds:"Secondes"},FlipClock.Lang.fr=FlipClock.Lang.French,FlipClock.Lang["fr-ca"]=FlipClock.Lang.French,FlipClock.Lang.french=FlipClock.Lang.French}(jQuery),function(){FlipClock.Lang.Italian={years:"Anni",months:"Mesi",days:"Giorni",hours:"Ore",minutes:"Minuti",seconds:"Secondi"},FlipClock.Lang.it=FlipClock.Lang.Italian,FlipClock.Lang["it-it"]=FlipClock.Lang.Italian,FlipClock.Lang.italian=FlipClock.Lang.Italian}(jQuery),function(){FlipClock.Lang.Latvian={years:"Gadi",months:"M\u0113ne\u0161i",days:"Dienas",hours:"Stundas",minutes:"Min\u016btes",seconds:"Sekundes"},FlipClock.Lang.lv=FlipClock.Lang.Latvian,FlipClock.Lang["lv-lv"]=FlipClock.Lang.Latvian,FlipClock.Lang.latvian=FlipClock.Lang.Latvian}(jQuery),function(){FlipClock.Lang.Dutch={years:"Jaren",months:"Maanden",days:"Dagen",hours:"Uren",minutes:"Minuten",seconds:"Seconden"},FlipClock.Lang.nl=FlipClock.Lang.Dutch,FlipClock.Lang["nl-be"]=FlipClock.Lang.Dutch,FlipClock.Lang.dutch=FlipClock.Lang.Dutch}(jQuery),function(){FlipClock.Lang.Norwegian={years:"\xc5r",months:"M\xe5neder",days:"Dager",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},FlipClock.Lang.no=FlipClock.Lang.Norwegian,FlipClock.Lang.nb=FlipClock.Lang.Norwegian,FlipClock.Lang["no-nb"]=FlipClock.Lang.Norwegian,FlipClock.Lang.norwegian=FlipClock.Lang.Norwegian}(jQuery),function(){FlipClock.Lang.Portuguese={years:"Anos",months:"Meses",days:"Dias",hours:"Horas",minutes:"Minutos",seconds:"Segundos"},FlipClock.Lang.pt=FlipClock.Lang.Portuguese,FlipClock.Lang["pt-br"]=FlipClock.Lang.Portuguese,FlipClock.Lang.portuguese=FlipClock.Lang.Portuguese}(jQuery),function(){FlipClock.Lang.Russian={years:"\u043b\u0435\u0442",months:"\u043c\u0435\u0441\u044f\u0446\u0435\u0432",days:"\u0434\u043d\u0435\u0439",hours:"\u0447\u0430\u0441\u043e\u0432",minutes:"\u043c\u0438\u043d\u0443\u0442",seconds:"\u0441\u0435\u043a\u0443\u043d\u0434"},FlipClock.Lang.ru=FlipClock.Lang.Russian,FlipClock.Lang["ru-ru"]=FlipClock.Lang.Russian,FlipClock.Lang.russian=FlipClock.Lang.Russian}(jQuery),function(){FlipClock.Lang.Swedish={years:"\xc5r",months:"M\xe5nader",days:"Dagar",hours:"Timmar",minutes:"Minuter",seconds:"Sekunder"},FlipClock.Lang.sv=FlipClock.Lang.Swedish,FlipClock.Lang["sv-se"]=FlipClock.Lang.Swedish,FlipClock.Lang.swedish=FlipClock.Lang.Swedish}(jQuery),function(){FlipClock.Lang.Chinese={years:"\u5e74",months:"\u6708",days:"\u65e5",hours:"\u65f6",minutes:"\u5206",seconds:"\u79d2"},FlipClock.Lang.zh=FlipClock.Lang.Chinese,FlipClock.Lang["zh-cn"]=FlipClock.Lang.Chinese,FlipClock.Lang.chinese=FlipClock.Lang.Chinese}(jQuery);var ElasticBackgroundElement=function(t){this.width=t.width,this.height=t.height,this.ratio=t.width/t.height};ElasticBackgroundElement.prototype.resizeTo=function(t,e){var i=e||"fitInside",n=t.width/t.height,o=this.ratio-n;if("fitInside"==i){var s=Math.max(this.width/t.width,this.height/t.height);this.width=this.width/s,this.height=this.height/s,this.left=(t.width-this.width)/2,this.top=(t.height-this.height)/2}else o>0?this.stretchVertically(t):0>o?this.stretchHorizontally(t):(this.width=t.width,this.height=t.height,this.left=0,this.top=0);return this},ElasticBackgroundElement.prototype.getStyle=function(){return{width:this.width,height:this.height,top:this.top,left:this.left,position:"absolute","object-fit":"inherit","max-width":"none"}},ElasticBackgroundElement.prototype.stretchVertically=function(t){this.height=t.height,this.width=t.height*this.ratio;var e=Math.abs((this.width-t.width)/2);return this.left=-e,this.top=0,this},ElasticBackgroundElement.prototype.stretchHorizontally=function(t){this.width=t.width,this.height=t.width/this.ratio;var e=Math.abs((this.height-t.height)/2);return this.top=-e,this.left=0,this};var Parallax={init:function(t){var e;e=$($(".editorContainer").length>0?".editorContainer":window);var i=[{event:"scroll",callback:Parallax.parallaxPosition},{event:"touchmove",callback:Parallax.parallaxPosition},{event:"resize",callback:Parallax.backgroundResize},{event:"focus",callback:Parallax.backgroundResize}];i.forEach(function(i){"resize"===i.event&&(e=$(window)),e.on(i.event,function(){void 0!==typeof t?i.callback($(t)):$(".parallax").each(function(){i.callback($(this))})})})},parallaxPosition:function(t){var e,i,n=document.documentElement.clientWidth;if(!(979>n)){var o=$(".editorContainer").length>0;o?(e=$(".editorContainer").height(),i=$(".editorContainer").scrollTop()):(e=document.documentElement.clientHeight,i=$("body").scrollTop());var s=i+e,r=(i+s)/2,a=$(t),l=a.height(),c=a.offset().top;o&&(c+=i);var u=c+l;if(s>c&&u>i){var h=parseInt(a.attr("data-resized-imgW"),10),d=parseInt(a.attr("data-resized-imgH"),10);a.css("background-attachment","fixed");var p=50,f=-d+e,m=e>l?d-l:d-e;c-=m,u+=m;var g=p+(f-p)*(r-c)/(u-c),v=a.attr("data-horiz-pos"),y="50%";if(o){var b=($(".editorContainer").width()-h)/2;y=b+"px"}v=v?v:y,$(t).css("background-position",v+" "+g+"px"),$(t).css("background-repeat","no-repeat")}return!0}},backgroundResize:function(t){var e,i=document.documentElement.clientWidth;if(!(979>i)){e=$(".editorContainer").length>0?$(".editorContainer").height():$(window).height();var n=$(t),o=n.width(),s=n.height(),r=parseInt(n.attr("data-img-width"),10),a=parseInt(n.attr("data-img-height"),10),l=r/a,c=parseFloat(n.attr("data-diff"));c=c?c:0;var u=0;u=e-s,a=s+u+c,r=a*l,o>r&&(r=o,a=r/l),n.attr("data-resized-imgW",r),n.attr("data-resized-imgH",a),n.css("background-size",r+"px "+a+"px"),n.css("background-attachment","fixed"),Parallax.parallaxPosition(t)}},setImageDimensions:function(t,e,i,n,o){if(i&&n)t.attr("data-img-width",i),t.attr("data-img-height",n),this.backgroundResize(t),this.init(t);else{var s=new Image;s.addEventListener("load",function(e){t.attr("data-img-width",e.target.width),t.attr("data-img-height",e.target.height),"undefined"!=typeof o&&o&&(o.imageWidth=e.target.width,o.imageHeight=e.target.height),this.backgroundResize(t),this.init(t)}.bind(this)),s.src=e}}};$(function(){var t=$("html").attr("lang"),e=["facebook","twitter","googlePlus","linkedin"];$.each(e,function(e,i){var n={share:{},enableHover:!1,enableTracking:!0,click:function(t){t.simulateClick(),t.openPopup(i)}};n.share[i]=!0,$(".share-"+i).sharrre(n);var o={className:"sharrre-original",share:{},enableHover:!1,enableCounter:!1,enableTracking:!0};o.share[i]=!0,$(".share-"+i+"-original").sharrre(o);var s=$(".share-follow-"+i);$.each(s,function(e,n){var o={className:"sharrre-original",share:{},buttons:{},enableHover:!1,enableCounter:!1,enableTracking:!0};o.buttons[i]={},o.share[i]=!0,o.buttons[i].lang="fr"==t?"fr_FR":"en_EN",o.buttons[i].username=$(n).data("username"),$(n).sharrre(o)})})}),!function(t){"use strict";var e=function(e,i){this.element=t(e),this.datas=i};e.prototype={init:function(){function e(t,e){var n=[];n.push(e.location.lat),n.push(e.location.lng);var o=L.map(t).setView(n,e.zoom),s=L.divIcon({className:e.marker_image.apicoClass,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[-15,-32]}),r='<div id="content"><span><b>'+i.adress1+"</b></span><div>"+i.zipcode+" "+i.city+"</div></div>";L.marker(n,{icon:s}).addTo(o).bindPopup(r),L.tileLayer("https://api.mapbox.com/styles/v1/mapbox/bright-v8/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiY2VkcmljLXNpdGV3IiwiYSI6ImNqdmU4OGdsMTBraHo0ZG82ZWp3NzE4OXcifQ.gzk-LK_s_4GG24BsPM4OiA",{maxZoom:18,attribution:'\xa9 <a href="http://openstreetmap.org">OpenStreetMap</a>, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="http://mapbox.com">Mapbox</a>',id:"mapbox.streets"}).addTo(o)}{var i,n=this.element;n.closest("ul:not(.dropdown-menu)"),n.attr("data-target")}"object"==typeof this.datas&&(i=this.datas);var o=i,s=this.element[0];t.ajaxSetup({cache:!0}),t.getScript("https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.js",function(){e(s,o)})}};var i=t.fn.leafletMap;t.fn.leafletMap=function(i,n){return this.each(function(){var o=t(this),s=o.data("leafletMap");s||o.data("leafletMap",s=new e(this,n)),"string"==typeof i&&s[i]()})},t.fn.leafletMap.Constructor=e,t.fn.leafletMap.noConflict=function(){return t.fn.leafletMap=i,this}}(window.jQuery);var ListenerHandler=function(){var t=1,e=[];return{listernes:e,addListener:function(i,n,o,s){return this.listernes[0]&&this.removeListener(0),i.addEventListener(n,o,s),e.push({element:i,event:n,handler:o,capture:s}),t++
},removeListener:function(t){if(e[t]){var i=e[t];i.element.removeEventListener(i.event,i.handler,i.capture),e.splice(t,1)}}}}(),OrsonTextResize={init:function(t){var e=$(t).data("brand-text-adapt-parent"),i=$(t).closest("."+e);this.adjust(i,$(t)),ListenerHandler.addListener(window,"resize",function(){OrsonTextResize.adjust(i,$(t))},!1)},adjust:function(t,e){var i=t.outerWidth(),n=e.outerWidth(),o=parseInt(e.css("font-size")),s=$(e).data("brand-text-adapt-original-size");if(n>=i){var r=Math.floor(i*o/n);this.setFontSize(e,r)}else s>o&&this.setFontSize(e,s)},setFontSize:function(t,e){var i=11,n=i;e>i?(t.removeClass("float-none"),n=e):t.addClass("float-none"),t.css("font-size",n)}};"function"!=typeof window.IntersectionObserver&&!function(t,e){"use strict";function i(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,i=e.width*e.height,n=this.intersectionRect,o=n.width*n.height;this.intersectionRatio=i?o/i:this.isIntersecting?1:0}function n(t,e){var i,n,o,s=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(s.root&&1!=s.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout(function(){i(),o=null},n))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(s.rootMargin),this.thresholds=this._initThresholds(s.threshold),this.root=s.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function o(t,e,i,n){"function"==typeof t.addEventListener?t.addEventListener(e,i,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i)}function s(t,e,i,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i)}function r(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(t,e){for(var i=e;i;){if(i==t)return!0;i=l(i)}return!1}function l(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var c=[];n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},n.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,i){if("number"!=typeof t||isNaN(t)||0>t||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1]})},n.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(t,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var s=o.element,a=r(s),l=this._rootContainsTarget(s),c=o.entry,u=e&&l&&this._computeTargetAndRootIntersection(s,n),h=o.entry=new i({time:t.performance&&performance.now&&performance.now(),target:s,boundingClientRect:a,rootBounds:n,intersectionRect:u});c?e&&l?this._hasCrossedThreshold(c,h)&&this._queuedEntries.push(h):c&&c.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(i,n){if("none"!=t.getComputedStyle(i).display){for(var o,s,a,c,u,h,d,p,f=r(i),m=l(i),g=!1;!g;){var v=null,y=1==m.nodeType?t.getComputedStyle(m):{};if("none"==y.display)return;if(m==this.root||m==e?(g=!0,v=n):m!=e.body&&m!=e.documentElement&&"visible"!=y.overflow&&(v=r(m)),v&&(o=v,s=f,a=Math.max(o.top,s.top),c=Math.min(o.bottom,s.bottom),u=Math.max(o.left,s.left),h=Math.min(o.right,s.right),p=c-a,!(f=(d=h-u)>=0&&p>=0&&{top:a,bottom:c,left:u,right:h,width:d,height:p})))break;m=l(m)}return f}},n.prototype._getRootRect=function(){var t;if(this.root)t=r(this.root);else{var i=e.documentElement,n=e.body;t={top:0,left:0,right:i.clientWidth||n.clientWidth,width:i.clientWidth||n.clientWidth,bottom:i.clientHeight||n.clientHeight,height:i.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},n.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,i){return"px"==e.unit?e.value:e.value*(i%2?t.width:t.height)/100}),i={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},n.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(i!==n)for(var o=0;o<this.thresholds.length;o++){var s=this.thresholds[o];if(s==i||s==n||i>s!=n>s)return!0}},n.prototype._rootIsInDom=function(){return!this.root||a(e,this.root)},n.prototype._rootContainsTarget=function(t){return a(this.root||e,t)},n.prototype._registerInstance=function(){c.indexOf(this)<0&&c.push(this)},n.prototype._unregisterInstance=function(){var t=c.indexOf(this);-1!=t&&c.splice(t,1)},t.IntersectionObserver=n,t.IntersectionObserverEntry=i}}(window,document);var featureDetect=function(t){return new Promise(function(e,i){switch(t){case"webp":if("true"===localStorage.getItem("webpSupported"))e(!0);else{const n="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=";var o=new Image;o.addEventListener("load",function(){e(!0)}),o.addEventListener("error",function(t){i(t)}),o.src=n}}})},LazyLoader=function(t){t=t||{threshold:.1,rootMargin:"300px 0px"},this.callbacks={};var e=this;this.observer=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var i=t.target,n=(i.dataset.url,i.dataset.container,i.dataset.stamp),o=e.callbacks[n];delete e.callbacks[n],e.observer.unobserve(i),e.lazyLoad(i).then(function(t){o(null,t)})["catch"](function(t){o(t)})}})},t)};LazyLoader.prototype.lazyLoad=function(t,e){return new Promise(function(i,n){switch(t.tagName){case"SECTION":preloadImage(t,"low"==e?300:window.innerWidth+200,e).then(function(e){i({container:t,pictures:[e]})})["catch"](n);break;default:var o=t.querySelectorAll("svg"),s=t.getBoundingClientRect().width;t.dataset.perRow&&(s=s/parseInt(t.dataset.perRow,10)+200);for(var r=[],a=0;a<o.length;a++)r.push(preloadImage(o[a],s,e));Promise.all(r).then(function(e){i({container:t,placeholders:e})})["catch"](function(t){n(t)})}})},LazyLoader.prototype.watch=function(t,e){var i=t.dataset.stamp;this.callbacks[i]&&(t.dataset.stamp+=Math.random(),i=t.dataset.stamp),this.callbacks[i]=e;var n=this;if("SECTION"==t.tagName){var o=this.lazyLoad(t,"low");o.then(function(i){e(null,i),n.observer.observe(t)},function(){n.observer.observe(t)})}else this.observer.observe(t)},!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipeUI_Default=e()}(this,function(){"use strict";var t=function(t,e){var i,n,o,s,r,a,l,c,u,h,d,p,f,m,g,v,y,b,w,x=this,C=!1,k=!0,T=!0,I={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},_=function(t){if(v)return!0;t=t||window.event,g.timeToIdle&&g.mouseUsed&&!u&&R();for(var i,n,o=t.target||t.srcElement,s=o.getAttribute("class")||"",r=0;r<Z.length;r++)i=Z[r],i.onTap&&s.indexOf("pswp__"+i.name)>-1&&(i.onTap(),n=!0);if(n){t.stopPropagation&&t.stopPropagation(),v=!0;var a=e.features.isOldAndroid?600:30;y=setTimeout(function(){v=!1},a)}},F=function(){return!t.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},E=function(t,i,n){e[(n?"add":"remove")+"Class"](t,"pswp__"+i)},S=function(){var t=1===g.getNumItemsFn();t!==m&&(E(n,"ui--one-slide",t),m=t)},L=function(){E(l,"share-modal--hidden",T)},M=function(){return T=!T,T?(e.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){T&&L()},300)):(L(),setTimeout(function(){T||e.addClass(l,"pswp__share-modal--fade-in")},30)),T||A(),!1},D=function(e){e=e||window.event;var i=e.target||e.srcElement;return t.shout("shareLinkClick",e,i),i.href?i.hasAttribute("download")?!0:(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),T||M(),!1):!1},A=function(){for(var t,e,i,n,o,s="",r=0;r<g.shareButtons.length;r++)t=g.shareButtons[r],i=g.getImageURLForShare(t),n=g.getPageURLForShare(t),o=g.getTextForShare(t),e=t.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(i)).replace("{{raw_image_url}}",i).replace("{{text}}",encodeURIComponent(o)),s+='<a href="'+e+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",g.parseShareButtonOut&&(s=g.parseShareButtonOut(t,s));l.children[0].innerHTML=s,l.children[0].onclick=D},z=function(t){for(var i=0;i<g.closeElClasses.length;i++)if(e.hasClass(t,"pswp__"+g.closeElClasses[i]))return!0},O=0,R=function(){clearTimeout(w),O=0,u&&x.setIdle(!1)},$=function(t){t=t?t:window.event;var e=t.relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(w),w=setTimeout(function(){x.setIdle(!0)},g.timeToIdleOutside))},P=function(){g.fullscreenEl&&!e.features.isOldAndroid&&(i||(i=x.getFullscreenAPI()),i?(e.bind(document,i.eventK,x.updateFullscreen),x.updateFullscreen(),e.addClass(t.template,"pswp--supports-fs")):e.removeClass(t.template,"pswp--supports-fs"))},j=function(){g.preloaderEl&&(N(!0),h("beforeChange",function(){clearTimeout(f),f=setTimeout(function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&N(!1):N(!0)},g.loadingIndicatorDelay)}),h("imageLoadComplete",function(e,i){t.currItem===i&&N(!0)}))},N=function(t){p!==t&&(E(d,"preloader--active",!t),p=t)},B=function(t){var i=t.vGap;if(F()){var r=g.barsSize;if(g.captionEl&&"auto"===r.bottom)if(s||(s=e.createEl("pswp__caption pswp__caption--fake"),s.appendChild(e.createEl("pswp__caption__center")),n.insertBefore(s,o),e.addClass(n,"pswp__ui--fit")),g.addCaptionHTMLFn(t,s,!0)){var a=s.clientHeight;i.bottom=parseInt(a,10)||44}else i.bottom=r.top;else i.bottom="auto"===r.bottom?0:r.bottom;i.top=r.top}else i.top=i.bottom=0},H=function(){g.timeToIdle&&h("mouseUsed",function(){e.bind(document,"mousemove",R),e.bind(document,"mouseout",$),b=setInterval(function(){O++,2===O&&x.setIdle(!0)},g.timeToIdle/2)})},U=function(){h("onVerticalDrag",function(t){k&&.95>t?x.hideControls():!k&&t>=.95&&x.showControls()});var t;h("onPinchClose",function(e){k&&.9>e?(x.hideControls(),t=!0):t&&!k&&e>.9&&x.showControls()}),h("zoomGestureEnded",function(){t=!1,t&&!k&&x.showControls()})},Z=[{name:"caption",option:"captionEl",onInit:function(t){o=t}},{name:"share-modal",option:"shareEl",onInit:function(t){l=t},onTap:function(){M()}},{name:"button--share",option:"shareEl",onInit:function(t){a=t},onTap:function(){M()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){r=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){i.isFullscreen()?i.exit():i.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){d=t}}],W=function(){var t,i,o,s=function(n){if(n)for(var s=n.length,r=0;s>r;r++){t=n[r],i=t.className;for(var a=0;a<Z.length;a++)o=Z[a],i.indexOf("pswp__"+o.name)>-1&&(g[o.option]?(e.removeClass(t,"pswp__element--disabled"),o.onInit&&o.onInit(t)):e.addClass(t,"pswp__element--disabled"))}};s(n.children);var r=e.getChildByClass(n,"pswp__top-bar");r&&s(r.children)};x.init=function(){e.extend(t.options,I,!0),g=t.options,n=e.getChildByClass(t.scrollWrap,"pswp__ui"),h=t.listen,U(),h("beforeChange",x.update),h("doubleTap",function(e){var i=t.currItem.initialZoomLevel;t.getZoomLevel()!==i?t.zoomTo(i,e,333):t.zoomTo(g.getDoubleTapZoom(!1,t.currItem),e,333)}),h("preventDragEvent",function(t,e,i){var n=t.target||t.srcElement;n&&n.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(n.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)}),h("bindEvents",function(){e.bind(n,"pswpTap click",_),e.bind(t.scrollWrap,"pswpTap",x.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",x.onMouseOver)}),h("unbindEvents",function(){T||M(),b&&clearInterval(b),e.unbind(document,"mouseout",$),e.unbind(document,"mousemove",R),e.unbind(n,"pswpTap click",_),e.unbind(t.scrollWrap,"pswpTap",x.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",x.onMouseOver),i&&(e.unbind(document,i.eventK,x.updateFullscreen),i.isFullscreen()&&(g.hideAnimationDuration=0,i.exit()),i=null)}),h("destroy",function(){g.captionEl&&(s&&n.removeChild(s),e.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),e.removeClass(n,"pswp__ui--over-close"),e.addClass(n,"pswp__ui--hidden"),x.setIdle(!1)}),g.showAnimationDuration||e.removeClass(n,"pswp__ui--hidden"),h("initialZoomIn",function(){g.showAnimationDuration&&e.removeClass(n,"pswp__ui--hidden")}),h("initialZoomOut",function(){e.addClass(n,"pswp__ui--hidden")}),h("parseVerticalMargin",B),W(),g.shareEl&&a&&l&&(T=!0),S(),H(),P(),j()},x.setIdle=function(t){u=t,E(n,"ui--idle",t)},x.update=function(){k&&t.currItem?(x.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(t.currItem,o),E(o,"caption--empty",!t.currItem.title)),C=!0):C=!1,T||M(),S()},x.updateFullscreen=function(n){n&&setTimeout(function(){t.setScrollOffset(0,e.getScrollY())},50),e[(i.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},x.updateIndexIndicator=function(){g.counterEl&&(r.innerHTML=t.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},x.onGlobalTap=function(i){i=i||window.event;var n=i.target||i.srcElement;if(!v)if(i.detail&&"mouse"===i.detail.pointerType){if(z(n))return void t.close();e.hasClass(n,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?g.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(i.detail.releasePoint))}else if(g.tapToToggleControls&&(k?x.hideControls():x.showControls()),g.tapToClose&&(e.hasClass(n,"pswp__img")||z(n)))return void t.close()},x.onMouseOver=function(t){t=t||window.event;var e=t.target||t.srcElement;E(n,"ui--over-close",z(e))},x.hideControls=function(){e.addClass(n,"pswp__ui--hidden"),k=!1},x.showControls=function(){k=!0,C||x.update(),e.removeClass(n,"pswp__ui--hidden")},x.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},x.getFullscreenAPI=function(){var e,i=document.documentElement,n="fullscreenchange";return i.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:i.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:i.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:i.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?t.template[this.enterK]():void t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}};return t}),!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipe=e()}(this,function(){"use strict";var t=function(t,e,i,n){var o={features:null,bind:function(t,e,i,n){var o=(n?"remove":"add")+"EventListener";e=e.split(" ");for(var s=0;s<e.length;s++)e[s]&&t[o](e[s],i,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var i=document.createElement(e||"div");return t&&(i.className=t),i},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,i){o.bind(t,e,i,!0)},removeClass:function(t,e){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){o.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var i=t.firstChild;i;){if(o.hasClass(i,e))return i;i=i.nextSibling}},arraySearch:function(t,e,i){for(var n=t.length;n--;)if(t[n][i]===e)return n;return-1},extend:function(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&t.hasOwnProperty(n))continue;t[n]=e[n]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(o.features)return o.features;var t=o.createEl(),e=t.style,i="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var s=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);r&&r.length>0&&(r=parseInt(r[1],10),r>=1&&8>r&&(n.isOldIOSPhone=!0))}var a=s.match(/Android\s([0-9\.]*)/),l=a?a[1]:0;l=parseFloat(l),l>=1&&(4.4>l&&(n.isOldAndroid=!0),n.androidVersion=l),n.isMobileOpera=/opera mini|opera mobi/i.test(s)}for(var c,u,h=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],p=0;4>p;p++){i=d[p];for(var f=0;3>f;f++)c=h[f],u=i+(i?c.charAt(0).toUpperCase()+c.slice(1):c),!n[c]&&u in e&&(n[c]=u);i&&!n.raf&&(i=i.toLowerCase(),n.raf=window[i+"RequestAnimationFrame"],n.raf&&(n.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]))}if(!n.raf){var m=0;n.raf=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-m)),n=window.setTimeout(function(){t(e+i)},i);return m=e+i,n},n.caf=function(t){clearTimeout(t)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(t,e,i,n){e=e.split(" ");for(var o,s=(n?"detach":"attach")+"Event",r=function(){i.handleEvent.call(i)},a=0;a<e.length;a++)if(o=e[a])if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+o])return!1}else i["oldIE"+o]=r;t[s]("on"+o,i["oldIE"+o])}else t[s]("on"+o,i)});var s=this,r=25,a=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t?1:e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(l,n);var c,u,h,d,p,f,m,g,v,y,b,w,x,C,k,T,I,_,F,E,S,L,M,D,A,z,O,R,$,P,j,N,B,H,U,Z,W,Q,G,K,q,V,Y,X,J,te,ee,ie,ne,oe,se,re,ae,le,ce,ue,he=function(){return{x:0,y:0}},de=he(),pe=he(),fe=he(),me={},ge=0,ve={},ye=he(),be=0,we=!0,xe=[],Ce={},ke=!1,Te=function(t,e){o.extend(s,e.publicMethods),xe.push(t)},Ie=function(t){var e=Ji();return t>e-1?t-e:0>t?e+t:t},_e={},Fe=function(t,e){return _e[t]||(_e[t]=[]),_e[t].push(e)},Ee=function(t){var e=_e[t];if(e){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<e.length;n++)e[n].apply(s,i)}},Se=function(){return(new Date).getTime()},Le=function(t){le=t,s.bg.style.opacity=t*l.bgOpacity},Me=function(t,e,i,n,o){(!ke||o&&o!==s.currItem)&&(n/=o?o.fitRatio:s.currItem.fitRatio),t[L]=w+e+"px, "+i+"px"+x+" scale("+n+")"},De=function(t){ne&&(t&&(y>s.currItem.fitRatio?ke||(dn(s.currItem,!1,!0),ke=!0):ke&&(dn(s.currItem),ke=!1)),Me(ne,fe.x,fe.y,y))},Ae=function(t){t.container&&Me(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},ze=function(t,e){e[L]=w+t+"px, 0px"+x},Oe=function(t,e){if(!l.loop&&e){var i=d+(ye.x*ge-t)/ye.x,n=Math.round(t-yi.x);(0>i&&n>0||i>=Ji()-1&&0>n)&&(t=yi.x+n*l.mainScrollEndFriction)}yi.x=t,ze(t,p)},Re=function(t,e){var i=bi[t]-ve[t];return pe[t]+de[t]+i-i*(e/b)},$e=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Pe=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},je=null,Ne=function(){je&&(o.unbind(document,"mousemove",Ne),o.addClass(t,"pswp--has_mouse"),l.mouseUsed=!0,Ee("mouseUsed")),je=setTimeout(function(){je=null},100)},Be=function(){o.bind(document,"keydown",s),j.transform&&o.bind(s.scrollWrap,"click",s),l.mouseUsed||o.bind(document,"mousemove",Ne),o.bind(window,"resize scroll",s),Ee("bindEvents")},He=function(){o.unbind(window,"resize",s),o.unbind(window,"scroll",v.scroll),o.unbind(document,"keydown",s),o.unbind(document,"mousemove",Ne),j.transform&&o.unbind(s.scrollWrap,"click",s),Q&&o.unbind(window,m,s),Ee("unbindEvents")},Ue=function(t,e){var i=ln(s.currItem,me,t);return e&&(ie=i),i},Ze=function(t){return t||(t=s.currItem),t.initialZoomLevel},We=function(t){return t||(t=s.currItem),t.w>0?l.maxSpreadZoom:1},Qe=function(t,e,i,n){return n===s.currItem.initialZoomLevel?(i[t]=s.currItem.initialPosition[t],!0):(i[t]=Re(t,n),i[t]>e.min[t]?(i[t]=e.min[t],!0):i[t]<e.max[t]?(i[t]=e.max[t],!0):!1)},Ge=function(){if(L){var e=j.perspective&&!D;return w="translate"+(e?"3d(":"("),void(x=j.perspective?", 0px)":")")}L="left",o.addClass(t,"pswp--ie"),ze=function(t,e){e.left=t+"px"},Ae=function(t){var e=t.fitRatio>1?1:t.fitRatio,i=t.container.style,n=e*t.w,o=e*t.h;i.width=n+"px",i.height=o+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},De=function(){if(ne){var t=ne,e=s.currItem,i=e.fitRatio>1?1:e.fitRatio,n=i*e.w,o=i*e.h;t.width=n+"px",t.height=o+"px",t.left=fe.x+"px",t.top=fe.y+"px"}}},Ke=function(t){var e="";l.escKey&&27===t.keyCode?e="close":l.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,s[e]()))},qe=function(t){t&&(q||K||oe||Z)&&(t.preventDefault(),t.stopPropagation())},Ve=function(){s.setScrollOffset(0,o.getScrollY())},Ye={},Xe=0,Je=function(t){Ye[t]&&(Ye[t].raf&&z(Ye[t].raf),Xe--,delete Ye[t])},ti=function(t){Ye[t]&&Je(t),Ye[t]||(Xe++,Ye[t]={})},ei=function(){for(var t in Ye)Ye.hasOwnProperty(t)&&Je(t)},ii=function(t,e,i,n,o,s,r){var a,l=Se();ti(t);var c=function(){if(Ye[t]){if(a=Se()-l,a>=n)return Je(t),s(i),void(r&&r());s((i-e)*o(a/n)+e),Ye[t].raf=A(c)}};c()},ni={shout:Ee,listen:Fe,viewportSize:me,options:l,isMainScrollAnimating:function(){return oe},getZoomLevel:function(){return y},getCurrentIndex:function(){return d},isDragging:function(){return Q},isZooming:function(){return J},setScrollOffset:function(t,e){ve.x=t,P=ve.y=e,Ee("updateScrollOffset",ve)},applyZoomPan:function(t,e,i,n){fe.x=e,fe.y=i,y=t,De(n)},init:function(){if(!c&&!u){var i;s.framework=o,s.template=t,s.bg=o.getChildByClass(t,"pswp__bg"),O=t.className,c=!0,j=o.detectFeatures(),A=j.raf,z=j.caf,L=j.transform,$=j.oldIE,s.scrollWrap=o.getChildByClass(t,"pswp__scroll-wrap"),s.container=o.getChildByClass(s.scrollWrap,"pswp__container"),p=s.container.style,s.itemHolders=T=[{el:s.container.children[0],wrap:0,index:-1},{el:s.container.children[1],wrap:0,index:-1},{el:s.container.children[2],wrap:0,index:-1}],T[0].el.style.display=T[2].el.style.display="none",Ge(),v={resize:s.updateSize,scroll:Ve,keydown:Ke,click:qe};var n=j.isOldIOSPhone||j.isOldAndroid||j.isMobileOpera;for(j.animationName&&j.transform&&!n||(l.showAnimationDuration=l.hideAnimationDuration=0),i=0;i<xe.length;i++)s["init"+xe[i]]();if(e){var r=s.ui=new e(s,o);r.init()}Ee("firstUpdate"),d=d||l.index||0,(isNaN(d)||0>d||d>=Ji())&&(d=0),s.currItem=Xi(d),(j.isOldIOSPhone||j.isOldAndroid)&&(we=!1),t.setAttribute("aria-hidden","false"),l.modal&&(we?t.style.position="fixed":(t.style.position="absolute",t.style.top=o.getScrollY()+"px")),void 0===P&&(Ee("initialLayout"),P=R=o.getScrollY());var h="pswp--open ";for(l.mainClass&&(h+=l.mainClass+" "),l.showHideOpacity&&(h+="pswp--animate_opacity "),h+=D?"pswp--touch":"pswp--notouch",h+=j.animationName?" pswp--css_animation":"",h+=j.svg?" pswp--svg":"",o.addClass(t,h),s.updateSize(),f=-1,be=null,i=0;a>i;i++)ze((i+f)*ye.x,T[i].el.style);$||o.bind(s.scrollWrap,g,s),Fe("initialZoomInEnd",function(){s.setContent(T[0],d-1),s.setContent(T[2],d+1),T[0].el.style.display=T[2].el.style.display="block",l.focus&&t.focus(),Be()}),s.setContent(T[1],d),s.updateCurrItem(),Ee("afterInit"),we||(C=setInterval(function(){Xe||Q||J||y!==s.currItem.initialZoomLevel||s.updateSize()},1e3)),o.addClass(t,"pswp--visible")}},close:function(){c&&(c=!1,u=!0,Ee("close"),He(),en(s.currItem,null,!0,s.destroy))},destroy:function(){Ee("destroy"),Ki&&clearTimeout(Ki),t.setAttribute("aria-hidden","true"),t.className=O,C&&clearInterval(C),o.unbind(s.scrollWrap,g,s),o.unbind(window,"scroll",s),Ti(),ei(),_e=null},panTo:function(t,e,i){i||(t>ie.min.x?t=ie.min.x:t<ie.max.x&&(t=ie.max.x),e>ie.min.y?e=ie.min.y:e<ie.max.y&&(e=ie.max.y)),fe.x=t,fe.y=e,De()},handleEvent:function(t){t=t||window.event,v[t.type]&&v[t.type](t)},goTo:function(t){t=Ie(t);var e=t-d;be=e,d=t,s.currItem=Xi(d),ge-=e,Oe(ye.x*ge),ei(),oe=!1,s.updateCurrItem()},next:function(){s.goTo(d+1)},prev:function(){s.goTo(d-1)},updateCurrZoomItem:function(t){if(t&&Ee("beforeChange",0),T[1].el.children.length){var e=T[1].el.children[0];ne=o.hasClass(e,"pswp__zoom-wrap")?e.style:null}else ne=null;ie=s.currItem.bounds,b=y=s.currItem.initialZoomLevel,fe.x=ie.center.x,fe.y=ie.center.y,t&&Ee("afterChange")},invalidateCurrItems:function(){k=!0;for(var t=0;a>t;t++)T[t].item&&(T[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==be){var e,i=Math.abs(be);if(!(t&&2>i)){s.currItem=Xi(d),ke=!1,Ee("beforeChange",be),i>=a&&(f+=be+(be>0?-a:a),i=a);for(var n=0;i>n;n++)be>0?(e=T.shift(),T[a-1]=e,f++,ze((f+2)*ye.x,e.el.style),s.setContent(e,d-i+n+1+1)):(e=T.pop(),T.unshift(e),f--,ze(f*ye.x,e.el.style),s.setContent(e,d+i-n-1-1));if(ne&&1===Math.abs(be)){var o=Xi(I);o.initialZoomLevel!==y&&(ln(o,me),dn(o),Ae(o))}be=0,s.updateCurrZoomItem(),I=d,Ee("afterChange")}}},updateSize:function(e){if(!we&&l.modal){var i=o.getScrollY();if(P!==i&&(t.style.top=i+"px",P=i),!e&&Ce.x===window.innerWidth&&Ce.y===window.innerHeight)return;Ce.x=window.innerWidth,Ce.y=window.innerHeight,t.style.height=Ce.y+"px"}if(me.x=s.scrollWrap.clientWidth,me.y=s.scrollWrap.clientHeight,Ve(),ye.x=me.x+Math.round(me.x*l.spacing),ye.y=me.y,Oe(ye.x*ge),Ee("beforeResize"),void 0!==f){for(var n,r,c,u=0;a>u;u++)n=T[u],ze((u+f)*ye.x,n.el.style),c=d+u-1,l.loop&&Ji()>2&&(c=Ie(c)),r=Xi(c),r&&(k||r.needsUpdate||!r.bounds)?(s.cleanSlide(r),s.setContent(n,c),1===u&&(s.currItem=r,s.updateCurrZoomItem(!0)),r.needsUpdate=!1):-1===n.index&&c>=0&&s.setContent(n,c),r&&r.container&&(ln(r,me),dn(r),Ae(r));k=!1}b=y=s.currItem.initialZoomLevel,ie=s.currItem.bounds,ie&&(fe.x=ie.center.x,fe.y=ie.center.y,De(!0)),Ee("resize")},zoomTo:function(t,e,i,n,s){e&&(b=y,bi.x=Math.abs(e.x)-fe.x,bi.y=Math.abs(e.y)-fe.y,$e(pe,fe));var r=Ue(t,!1),a={};Qe("x",r,a,t),Qe("y",r,a,t);var l=y,c={x:fe.x,y:fe.y};Pe(a);var u=function(e){1===e?(y=t,fe.x=a.x,fe.y=a.y):(y=(t-l)*e+l,fe.x=(a.x-c.x)*e+c.x,fe.y=(a.y-c.y)*e+c.y),s&&s(e),De(1===e)};i?ii("customZoomTo",0,1,i,n||o.easing.sine.inOut,u):u(1)}},oi=30,si=10,ri={},ai={},li={},ci={},ui={},hi=[],di={},pi=[],fi={},mi=0,gi=he(),vi=0,yi=he(),bi=he(),wi=he(),xi=function(t,e){return t.x===e.x&&t.y===e.y},Ci=function(t,e){return Math.abs(t.x-e.x)<r&&Math.abs(t.y-e.y)<r},ki=function(t,e){return fi.x=Math.abs(t.x-e.x),fi.y=Math.abs(t.y-e.y),Math.sqrt(fi.x*fi.x+fi.y*fi.y)},Ti=function(){V&&(z(V),V=null)},Ii=function(){Q&&(V=A(Ii),Bi())},_i=function(){return!("fit"===l.scaleMode&&y===s.currItem.initialZoomLevel)},Fi=function(t,e){return t&&t!==document?t.getAttribute("class")&&t.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:e(t)?t:Fi(t.parentNode,e):!1},Ei={},Si=function(t,e){return Ei.prevent=!Fi(t.target,l.isClickableElement),Ee("preventDragEvent",t,e,Ei),Ei.prevent},Li=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},Mi=function(t,e,i){i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y)},Di=function(t,e,i){if(t-B>50){var n=pi.length>2?pi.shift():{};n.x=e,n.y=i,pi.push(n),B=t}},Ai=function(){var t=fe.y-s.currItem.initialPosition.y;return 1-Math.abs(t/(me.y/2))},zi={},Oi={},Ri=[],$i=function(t){for(;Ri.length>0;)Ri.pop();return M?(ue=0,hi.forEach(function(t){0===ue?Ri[0]=t:1===ue&&(Ri[1]=t),ue++})):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(Ri[0]=Li(t.touches[0],zi),t.touches.length>1&&(Ri[1]=Li(t.touches[1],Oi))):(zi.x=t.pageX,zi.y=t.pageY,zi.id="",Ri[0]=zi),Ri},Pi=function(t,e){var i,n,o,r,a=0,c=fe[t]+e[t],u=e[t]>0,h=yi.x+e.x,d=yi.x-di.x;return i=c>ie.min[t]||c<ie.max[t]?l.panEndFriction:1,c=fe[t]+e[t]*i,!l.allowPanToNext&&y!==s.currItem.initialZoomLevel||(ne?"h"!==se||"x"!==t||K||(u?(c>ie.min[t]&&(i=l.panEndFriction,a=ie.min[t]-c,n=ie.min[t]-pe[t]),(0>=n||0>d)&&Ji()>1?(r=h,0>d&&h>di.x&&(r=di.x)):ie.min.x!==ie.max.x&&(o=c)):(c<ie.max[t]&&(i=l.panEndFriction,a=c-ie.max[t],n=pe[t]-ie.max[t]),(0>=n||d>0)&&Ji()>1?(r=h,d>0&&h<di.x&&(r=di.x)):ie.min.x!==ie.max.x&&(o=c))):r=h,"x"!==t)?void(oe||Y||y>s.currItem.fitRatio&&(fe[t]+=e[t]*i)):(void 0!==r&&(Oe(r,!0),Y=r===di.x?!1:!0),ie.min.x!==ie.max.x&&(void 0!==o?fe.x=o:Y||(fe.x+=e.x*i)),void 0!==r)
},ji=function(t){if(!("mousedown"===t.type&&t.button>0)){if(Yi)return void t.preventDefault();if(!W||"mousedown"!==t.type){if(Si(t,!0)&&t.preventDefault(),Ee("pointerDown"),M){var e=o.arraySearch(hi,t.pointerId,"id");0>e&&(e=hi.length),hi[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var i=$i(t),n=i.length;X=null,ei(),Q&&1!==n||(Q=re=!0,o.bind(window,m,s),U=ce=ae=Z=Y=q=G=K=!1,se=null,Ee("firstTouchStart",i),$e(pe,fe),de.x=de.y=0,$e(ci,i[0]),$e(ui,ci),di.x=ye.x*ge,pi=[{x:ci.x,y:ci.y}],B=N=Se(),Ue(y,!0),Ti(),Ii()),!J&&n>1&&!oe&&!Y&&(b=y,K=!1,J=G=!0,de.y=de.x=0,$e(pe,fe),$e(ri,i[0]),$e(ai,i[1]),Mi(ri,ai,wi),bi.x=Math.abs(wi.x)-fe.x,bi.y=Math.abs(wi.y)-fe.y,te=ee=ki(ri,ai))}}},Ni=function(t){if(t.preventDefault(),M){var e=o.arraySearch(hi,t.pointerId,"id");if(e>-1){var i=hi[e];i.x=t.pageX,i.y=t.pageY}}if(Q){var n=$i(t);if(se||q||J)X=n;else if(yi.x!==ye.x*ge)se="h";else{var s=Math.abs(n[0].x-ci.x)-Math.abs(n[0].y-ci.y);Math.abs(s)>=si&&(se=s>0?"h":"v",X=n)}}},Bi=function(){if(X){var t=X.length;if(0!==t)if($e(ri,X[0]),li.x=ri.x-ci.x,li.y=ri.y-ci.y,J&&t>1){if(ci.x=ri.x,ci.y=ri.y,!li.x&&!li.y&&xi(X[1],ai))return;$e(ai,X[1]),K||(K=!0,Ee("zoomGestureStarted"));var e=ki(ri,ai),i=Qi(e);i>s.currItem.initialZoomLevel+s.currItem.initialZoomLevel/15&&(ce=!0);var n=1,o=Ze(),r=We();if(o>i)if(l.pinchToClose&&!ce&&b<=s.currItem.initialZoomLevel){var a=o-i,c=1-a/(o/1.2);Le(c),Ee("onPinchClose",c),ae=!0}else n=(o-i)/o,n>1&&(n=1),i=o-n*(o/3);else i>r&&(n=(i-r)/(6*o),n>1&&(n=1),i=r+n*o);0>n&&(n=0),te=e,Mi(ri,ai,gi),de.x+=gi.x-wi.x,de.y+=gi.y-wi.y,$e(wi,gi),fe.x=Re("x",i),fe.y=Re("y",i),U=i>y,y=i,De()}else{if(!se)return;if(re&&(re=!1,Math.abs(li.x)>=si&&(li.x-=X[0].x-ui.x),Math.abs(li.y)>=si&&(li.y-=X[0].y-ui.y)),ci.x=ri.x,ci.y=ri.y,0===li.x&&0===li.y)return;if("v"===se&&l.closeOnVerticalDrag&&!_i()){de.y+=li.y,fe.y+=li.y;var u=Ai();return Z=!0,Ee("onVerticalDrag",u),Le(u),void De()}Di(Se(),ri.x,ri.y),q=!0,ie=s.currItem.bounds;var h=Pi("x",li);h||(Pi("y",li),Pe(fe),De())}}},Hi=function(t){if(j.isOldAndroid){if(W&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(W),W=setTimeout(function(){W=0},600))}Ee("pointerUp"),Si(t,!1)&&t.preventDefault();var e;if(M){var i=o.arraySearch(hi,t.pointerId,"id");if(i>-1)if(e=hi.splice(i,1)[0],navigator.pointerEnabled)e.type=t.pointerType||"mouse";else{var n={4:"mouse",2:"touch",3:"pen"};e.type=n[t.pointerType],e.type||(e.type=t.pointerType||"mouse")}}var r,a=$i(t),c=a.length;if("mouseup"===t.type&&(c=0),2===c)return X=null,!0;1===c&&$e(ui,a[0]),0!==c||se||oe||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),Ee("touchRelease",t,e));var u=-1;if(0===c&&(Q=!1,o.unbind(window,m,s),Ti(),J?u=0:-1!==vi&&(u=Se()-vi)),vi=1===c?Se():-1,r=-1!==u&&150>u?"zoom":"swipe",J&&2>c&&(J=!1,1===c&&(r="zoomPointerUp"),Ee("zoomGestureEnded")),X=null,q||K||oe||Z)if(ei(),H||(H=Ui()),H.calculateSwipeSpeed("x"),Z){var h=Ai();if(h<l.verticalDragRange)s.close();else{var d=fe.y,p=le;ii("verticalDrag",0,1,300,o.easing.cubic.out,function(t){fe.y=(s.currItem.initialPosition.y-d)*t+d,Le((1-p)*t+p),De()}),Ee("onVerticalDrag",1)}}else{if((Y||oe)&&0===c){var f=Wi(r,H);if(f)return;r="zoomPointerUp"}if(!oe)return"swipe"!==r?void Gi():void(!Y&&y>s.currItem.fitRatio&&Zi(H))}},Ui=function(){var t,e,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){pi.length>1?(t=Se()-B+50,e=pi[pi.length-2][n]):(t=Se()-N,e=ui[n]),i.lastFlickOffset[n]=ci[n]-e,i.lastFlickDist[n]=Math.abs(i.lastFlickOffset[n]),i.lastFlickSpeed[n]=i.lastFlickDist[n]>20?i.lastFlickOffset[n]/t:0,Math.abs(i.lastFlickSpeed[n])<.1&&(i.lastFlickSpeed[n]=0),i.slowDownRatio[n]=.95,i.slowDownRatioReverse[n]=1-i.slowDownRatio[n],i.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(fe[t]>ie.min[t]?i.backAnimDestination[t]=ie.min[t]:fe[t]<ie.max[t]&&(i.backAnimDestination[t]=ie.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,ii("bounceZoomPan"+t,fe[t],i.backAnimDestination[t],e||300,o.easing.sine.out,function(e){fe[t]=e,De()}))))},calculateAnimOffset:function(t){i.backAnimStarted[t]||(i.speedDecelerationRatio[t]=i.speedDecelerationRatio[t]*(i.slowDownRatio[t]+i.slowDownRatioReverse[t]-i.slowDownRatioReverse[t]*i.timeDiff/10),i.speedDecelerationRatioAbs[t]=Math.abs(i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]),i.distanceOffset[t]=i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]*i.timeDiff,fe[t]+=i.distanceOffset[t])},panAnimLoop:function(){return Ye.zoomPan&&(Ye.zoomPan.raf=A(i.panAnimLoop),i.now=Se(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),De(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05)?(fe.x=Math.round(fe.x),fe.y=Math.round(fe.y),De(),void Je("zoomPan")):void 0}};return i},Zi=function(t){return t.calculateSwipeSpeed("y"),ie=s.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05?(t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0):(ti("zoomPan"),t.lastNow=Se(),void t.panAnimLoop())},Wi=function(t,e){var i;oe||(mi=d);var n;if("swipe"===t){var r=ci.x-ui.x,a=e.lastFlickDist.x<10;r>oi&&(a||e.lastFlickOffset.x>20)?n=-1:-oi>r&&(a||e.lastFlickOffset.x<-20)&&(n=1)}var c;n&&(d+=n,0>d?(d=l.loop?Ji()-1:0,c=!0):d>=Ji()&&(d=l.loop?0:Ji()-1,c=!0),(!c||l.loop)&&(be+=n,ge-=n,i=!0));var u,h=ye.x*ge,p=Math.abs(h-yi.x);return i||h>yi.x==e.lastFlickSpeed.x>0?(u=Math.abs(e.lastFlickSpeed.x)>0?p/Math.abs(e.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,mi===d&&(i=!1),oe=!0,Ee("mainScrollAnimStart"),ii("mainScroll",yi.x,h,u,o.easing.cubic.out,Oe,function(){ei(),oe=!1,mi=-1,(i||mi!==d)&&s.updateCurrItem(),Ee("mainScrollAnimComplete")}),i&&s.updateCurrItem(!0),i},Qi=function(t){return 1/ee*t*b},Gi=function(){var t=y,e=Ze(),i=We();e>y?t=e:y>i&&(t=i);var n,r=1,a=le;return ae&&!U&&!ce&&e>y?(s.close(),!0):(ae&&(n=function(t){Le((r-a)*t+a)}),s.zoomTo(t,0,200,o.easing.cubic.out,n),!0)};Te("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,i,n,o){_=t+e,F=t+i,E=t+n,S=o?t+o:""};M=j.pointerEvent,M&&j.touch&&(j.touch=!1),M?navigator.pointerEnabled?t("pointer","down","move","up","cancel"):t("MSPointer","Down","Move","Up","Cancel"):j.touch?(t("touch","start","move","end","cancel"),D=!0):t("mouse","down","move","up"),m=F+" "+E+" "+S,g=_,M&&!D&&(D=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),s.likelyTouchDevice=D,v[_]=ji,v[F]=Ni,v[E]=Hi,S&&(v[S]=v[E]),j.touch&&(g+=" mousedown",m+=" mousemove mouseup",v.mousedown=v[_],v.mousemove=v[F],v.mouseup=v[E]),D||(l.allowPanToNext=!1)}}});var Ki,qi,Vi,Yi,Xi,Ji,tn,en=function(e,i,n,r){Ki&&clearTimeout(Ki),Yi=!0,Vi=!0;var a;e.initialLayout?(a=e.initialLayout,e.initialLayout=null):a=l.getThumbBoundsFn&&l.getThumbBoundsFn(d);var c=n?l.hideAnimationDuration:l.showAnimationDuration,u=function(){Je("initialZoom"),n?(s.template.removeAttribute("style"),s.bg.removeAttribute("style")):(Le(1),i&&(i.style.display="block"),o.addClass(t,"pswp--animated-in"),Ee("initialZoom"+(n?"OutEnd":"InEnd"))),r&&r(),Yi=!1};if(!c||!a||void 0===a.x)return Ee("initialZoom"+(n?"Out":"In")),y=e.initialZoomLevel,$e(fe,e.initialPosition),De(),t.style.opacity=n?0:1,Le(1),void(c?setTimeout(function(){u()},c):u());var p=function(){var i=h,r=!s.currItem.src||s.currItem.loadError||l.showHideOpacity;e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),n||(y=a.w/e.w,fe.x=a.x,fe.y=a.y-R,s[r?"template":"bg"].style.opacity=.001,De()),ti("initialZoom"),n&&!i&&o.removeClass(t,"pswp--animated-in"),r&&(n?o[(i?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout(function(){o.addClass(t,"pswp--animate_opacity")},30)),Ki=setTimeout(function(){if(Ee("initialZoom"+(n?"Out":"In")),n){var s=a.w/e.w,l={x:fe.x,y:fe.y},h=y,d=le,p=function(e){1===e?(y=s,fe.x=a.x,fe.y=a.y-P):(y=(s-h)*e+h,fe.x=(a.x-l.x)*e+l.x,fe.y=(a.y-P-l.y)*e+l.y),De(),r?t.style.opacity=1-e:Le(d-e*d)};i?ii("initialZoom",0,1,c,o.easing.cubic.out,p,u):(p(1),Ki=setTimeout(u,c+20))}else y=e.initialZoomLevel,$e(fe,e.initialPosition),De(),Le(1),r?t.style.opacity=1:Le(1),Ki=setTimeout(u,c+20)},n?25:90)};p()},nn={},on=[],sn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return qi.length}},rn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},an=function(t,e,i){var n=t.bounds;n.center.x=Math.round((nn.x-e)/2),n.center.y=Math.round((nn.y-i)/2)+t.vGap.top,n.max.x=e>nn.x?Math.round(nn.x-e):n.center.x,n.max.y=i>nn.y?Math.round(nn.y-i)+t.vGap.top:n.center.y,n.min.x=e>nn.x?0:n.center.x,n.min.y=i>nn.y?t.vGap.top:n.center.y},ln=function(t,e,i){if(t.src&&!t.loadError){var n=!i;if(n&&(t.vGap||(t.vGap={top:0,bottom:0}),Ee("parseVerticalMargin",t)),nn.x=e.x,nn.y=e.y-t.vGap.top-t.vGap.bottom,n){var o=nn.x/t.w,s=nn.y/t.h;t.fitRatio=s>o?o:s;var r=l.scaleMode;"orig"===r?i=1:"fit"===r&&(i=t.fitRatio),i>1&&(i=1),t.initialZoomLevel=i,t.bounds||(t.bounds=rn())}if(!i)return;return an(t,t.w*i,t.h*i),n&&i===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds=rn(),t.initialPosition=t.bounds.center,t.bounds},cn=function(t,e,i,n,o,r){e.loadError||n&&(e.imageAppended=!0,dn(e,n,e===s.currItem&&ke),i.appendChild(n),r&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)},500))},un=function(t){t.loading=!0,t.loaded=!1;var e=t.img=o.createEl("pswp__img","img"),i=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=i,e.onerror=function(){t.loadError=!0,i()},e.src=t.src,e},hn=function(t,e){return t.src&&t.loadError&&t.container?(e&&(t.container.innerHTML=""),t.container.innerHTML=l.errorMsg.replace("%url%",t.src),!0):void 0},dn=function(t,e,i){if(t.src){e||(e=t.container.lastChild);var n=i?t.w:Math.round(t.w*t.fitRatio),o=i?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=n+"px",t.placeholder.style.height=o+"px"),e.style.width=n+"px",e.style.height=o+"px"}},pn=function(){if(on.length){for(var t,e=0;e<on.length;e++)t=on[e],t.holder.index===t.index&&cn(t.index,t.item,t.baseDiv,t.img,!1,t.clearPlaceholder);on=[]}};Te("Controller",{publicMethods:{lazyLoadItem:function(t){t=Ie(t);var e=Xi(t);e&&(!e.loaded&&!e.loading||k)&&(Ee("gettingData",t,e),e.src&&un(e))},initController:function(){o.extend(l,sn,!0),s.items=qi=i,Xi=s.getItemAt,Ji=l.getNumItemsFn,tn=l.loop,Ji()<3&&(l.loop=!1),Fe("beforeChange",function(t){var e,i=l.preload,n=null===t?!0:t>=0,o=Math.min(i[0],Ji()),r=Math.min(i[1],Ji());for(e=1;(n?r:o)>=e;e++)s.lazyLoadItem(d+e);for(e=1;(n?o:r)>=e;e++)s.lazyLoadItem(d-e)}),Fe("initialLayout",function(){s.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(d)}),Fe("mainScrollAnimComplete",pn),Fe("initialZoomInEnd",pn),Fe("destroy",function(){for(var t,e=0;e<qi.length;e++)t=qi[e],t.container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);on=null})},getItemAt:function(t){return t>=0&&void 0!==qi[t]?qi[t]:!1},allowProgressiveImg:function(){return l.forceProgressiveLoading||!D||l.mouseUsed||screen.width>1200},setContent:function(t,e){l.loop&&(e=Ie(e));var i=s.getItemAt(t.index);i&&(i.container=null);var n,r=s.getItemAt(e);if(!r)return void(t.el.innerHTML="");Ee("gettingData",e,r),t.index=e,t.item=r;var a=r.container=o.createEl("pswp__zoom-wrap");if(!r.src&&r.html&&(r.html.tagName?a.appendChild(r.html):a.innerHTML=r.html),hn(r),ln(r,me),!r.src||r.loadError||r.loaded)r.src&&!r.loadError&&(n=o.createEl("pswp__img","img"),n.style.opacity=1,n.src=r.src,dn(r,n),cn(e,r,a,n,!0));else{if(r.loadComplete=function(i){if(c){if(t&&t.index===e){if(hn(i,!0))return i.loadComplete=i.img=null,ln(i,me),Ae(i),void(t.index===d&&s.updateCurrZoomItem());i.imageAppended?!Yi&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):j.transform&&(oe||Yi)?on.push({item:i,baseDiv:a,img:i.img,index:e,holder:t,clearPlaceholder:!0}):cn(e,i,a,i.img,oe||Yi,!0)}i.loadComplete=null,i.img=null,Ee("imageLoadComplete",e,i)}},o.features.transform){var u="pswp__img pswp__img--placeholder";u+=r.msrc?"":" pswp__img--placeholder--blank";var h=o.createEl(u,r.msrc?"img":"");r.msrc&&(h.src=r.msrc),dn(r,h),a.appendChild(h),r.placeholder=h}r.loading||un(r),s.allowProgressiveImg()&&(!Vi&&j.transform?on.push({item:r,baseDiv:a,img:r.img,index:e,holder:t}):cn(e,r,a,r.img,!0,!0))}Vi||e!==d?Ae(r):(ne=a.style,en(r,n||r.img)),t.el.innerHTML="",t.el.appendChild(a)},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var fn,mn={},gn=function(t,e,i){var n=document.createEvent("CustomEvent"),o={origEvent:t,target:t.target,releasePoint:e,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,o),t.target.dispatchEvent(n)};Te("Tap",{publicMethods:{initTap:function(){Fe("firstTouchStart",s.onTapStart),Fe("touchRelease",s.onTapRelease),Fe("destroy",function(){mn={},fn=null})},onTapStart:function(t){t.length>1&&(clearTimeout(fn),fn=null)},onTapRelease:function(t,e){if(e&&!q&&!G&&!Xe){var i=e;if(fn&&(clearTimeout(fn),fn=null,Ci(i,mn)))return void Ee("doubleTap",i);if("mouse"===e.type)return void gn(t,e,"mouse");var n=t.target.tagName.toUpperCase();if("BUTTON"===n||o.hasClass(t.target,"pswp__single-tap"))return void gn(t,e);$e(mn,i),fn=setTimeout(function(){gn(t,e),fn=null},300)}}}});var vn;Te("DesktopZoom",{publicMethods:{initDesktopZoom:function(){$||(D?Fe("mouseUsed",function(){s.setupDesktopZoom()}):s.setupDesktopZoom(!0))},setupDesktopZoom:function(e){vn={};var i="wheel mousewheel DOMMouseScroll";Fe("bindEvents",function(){o.bind(t,i,s.handleMouseWheel)}),Fe("unbindEvents",function(){vn&&o.unbind(t,i,s.handleMouseWheel)}),s.mouseZoomedIn=!1;var n,r=function(){s.mouseZoomedIn&&(o.removeClass(t,"pswp--zoomed-in"),s.mouseZoomedIn=!1),1>y?o.addClass(t,"pswp--zoom-allowed"):o.removeClass(t,"pswp--zoom-allowed"),a()},a=function(){n&&(o.removeClass(t,"pswp--dragging"),n=!1)};Fe("resize",r),Fe("afterChange",r),Fe("pointerDown",function(){s.mouseZoomedIn&&(n=!0,o.addClass(t,"pswp--dragging"))}),Fe("pointerUp",a),e||r()},handleMouseWheel:function(t){if(y<=s.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Xe||Q?t.preventDefault():L&&Math.abs(t.deltaY)>2&&(h=!0,s.close())),!0;if(t.stopPropagation(),vn.x=0,"deltaX"in t)1===t.deltaMode?(vn.x=18*t.deltaX,vn.y=18*t.deltaY):(vn.x=t.deltaX,vn.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(vn.x=-.16*t.wheelDeltaX),vn.y=t.wheelDeltaY?-.16*t.wheelDeltaY:-.16*t.wheelDelta;else{if(!("detail"in t))return;vn.y=t.detail}Ue(y,!0);var e=fe.x-vn.x,i=fe.y-vn.y;(l.modal||e<=ie.min.x&&e>=ie.max.x&&i<=ie.min.y&&i>=ie.max.y)&&t.preventDefault(),s.panTo(e,i)},toggleDesktopZoom:function(e){e=e||{x:me.x/2+ve.x,y:me.y/2+ve.y};var i=l.getDoubleTapZoom(!0,s.currItem),n=y===i;s.mouseZoomedIn=!n,s.zoomTo(n?s.currItem.initialZoomLevel:i,e,333),o[(n?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var yn,bn,wn,xn,Cn,kn,Tn,In,_n,Fn,En,Sn,Ln={history:!0,galleryUID:1},Mn=function(){return En.hash.substring(1)},Dn=function(){yn&&clearTimeout(yn),wn&&clearTimeout(wn)},An=function(){var t=Mn(),e={};if(t.length<5)return e;var i,n=t.split("&");for(i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(e[o[0]]=o[1])}if(l.galleryPIDs){var s=e.pid;for(e.pid=0,i=0;i<qi.length;i++)if(qi[i].pid===s){e.pid=i;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},zn=function(){if(wn&&clearTimeout(wn),Xe||Q)return void(wn=setTimeout(zn,500));xn?clearTimeout(bn):xn=!0;var t=d+1,e=Xi(d);e.hasOwnProperty("pid")&&(t=e.pid);var i=Tn+"&gid="+l.galleryUID+"&pid="+t;In||-1===En.hash.indexOf(i)&&(Fn=!0);var n=En.href.split("#")[0]+"#"+i;Sn?"#"+i!==window.location.hash&&history[In?"replaceState":"pushState"]("",document.title,n):In?En.replace(n):En.hash=i,In=!0,bn=setTimeout(function(){xn=!1},60)};Te("History",{publicMethods:{initHistory:function(){if(o.extend(l,Ln,!0),l.history){En=window.location,Fn=!1,_n=!1,In=!1,Tn=Mn(),Sn="pushState"in history,Tn.indexOf("gid=")>-1&&(Tn=Tn.split("&gid=")[0],Tn=Tn.split("?gid=")[0]),Fe("afterChange",s.updateURL),Fe("unbindEvents",function(){o.unbind(window,"hashchange",s.onHashChange)});var t=function(){kn=!0,_n||(Fn?history.back():Tn?En.hash=Tn:Sn?history.pushState("",document.title,En.pathname+En.search):En.hash=""),Dn()};Fe("unbindEvents",function(){h&&t()}),Fe("destroy",function(){kn||t()}),Fe("firstUpdate",function(){d=An().pid});var e=Tn.indexOf("pid=");e>-1&&(Tn=Tn.substring(0,e),"&"===Tn.slice(-1)&&(Tn=Tn.slice(0,-1))),setTimeout(function(){c&&o.bind(window,"hashchange",s.onHashChange)},40)}},onHashChange:function(){return Mn()===Tn?(_n=!0,void s.close()):void(xn||(Cn=!0,s.goTo(An().pid),Cn=!1))},updateURL:function(){Dn(),Cn||(In?yn=setTimeout(zn,800):zn())}}}),o.extend(s,ni)};return t});